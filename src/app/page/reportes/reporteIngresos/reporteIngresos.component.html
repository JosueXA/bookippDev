
<mat-card class="mat-elevation-z8" id="mainMatCard">
    <mat-card-header>
        <div style="width: 100%;">
            <mat-card-title> {{'reporteVentaProductoTranslate.ventaProducto' | translate}} </mat-card-title>
        </div>
        <div style="text-align: right; width: 100%;">
            <mat-icon class="iconosBookipp" svgIcon="iconCasa1" (click)="irAAgenda()" style="cursor: pointer; height: auto; position: relative;"></mat-icon>
            <a style="cursor: pointer; color: #20c4e6; top: -6px; position: relative;" (click)="irAAgenda()">{{'reporteVentaProductoTranslate.inicio' | translate}}</a>
            <mat-icon class="iconosBookipp" svgIcon="iconFlecha1DerechaPeque" style="position: relative;"></mat-icon>
            <a style="color: #20c4e6; top: -6px; position: relative;">{{'reporteVentaProductoTranslate.ventaProducto' | translate}}</a>&nbsp;        
        </div>
    </mat-card-header>
    <mat-divider></mat-divider>

    <mat-card-content class="py-3">
        <!-- Calendario -->
        <div class="row col-lg-12 pt-2" style="margin-bottom:1%;">
            <div class="col-lg-4">
                <div class="moverFecha">
                    <mat-icon class="iconosBookipp" svgIcon="iconCalendarioEditar" style="position: absolute; margin: 8px 0px 0px 30px;"></mat-icon>
                    <input type="text"
                        ngxDaterangepickerMd
                        class="form-control borderAzul"
                        style="cursor: pointer; height: 40px; width: 350px; padding-left: 90px; border-radius: 1.5rem;"
                        [(ngModel)]="ventaProducto.fechas"
                        (ngModelChange)="ventaProducto_cambioFecha(1)"
                        [showCustomRangeLabel]="true"
                        [alwaysShowCalendars]="true"
                        [ranges]="this.ranges"
                        [linkedCalendars]="true"
                        [isInvalidDate] = "isInvalidDate"
                        [showClearButton] = "false"
                        [locale] = "this.locale"
                        [showDropdowns]="true"
                        placeholder="DD/MM/YYYY - DD/MM/YYYY" 
                    />
                    <mat-icon class="iconosBookipp" svgIcon="iconFlechaAbajoPeque" style="position: absolute; margin: -30px 0px 0px 300px;"></mat-icon>
                </div>
            </div>
            <div class="col-lg-5"></div>
        </div>

        <!-- Tablas -->
        <div class="row col-lg-12 pt-2" id="contenedorDeTablas" style="justify-content: center;">
            <!-- Tabla de Ventas -->
            <div class="col-lg-5">
                <table class="mat-table mat-elevation-z8 m-3" id="tablaDeVentas" style="border-radius: 7px; border: solid 1px #c5c4c4; margin-left: 15px; width: 95%;">
                    <tr class="mat-header-row">
                        <th style="text-align: center; width: 100%;" colspan="2">
                            <label class="labelLink" (click)="ventaProducto_modalVarios(1)" style="font-size: large;"> {{'reporteVentaProductoTranslate.ventas' | translate}} </label>
                        </th>
                    </tr>

                    <tr class="mat-row" *ngFor="let element of ventaProducto.dataVentas; index as i;">
                        <td style="padding-left: 10px;"> 
                            <label class="labelLink" (click)="ventaProducto_consultarMetodosPago(element)"> {{element.descripcion}} ({{element.Cantidad}}) </label>
                        </td>
                        <td style="text-align: right; padding-right: 7px;">
                            <label > {{element.Dinero | currency}}</label>  
                        </td>
                    </tr>
                        
                    <tr class="mat-row">
                        <td style="padding-left: 10px;"> 
                            <label><b> Ingresos </b></label> 
                        </td>
                        <td style="text-align: right; padding-right: 7px;">
                            <label><b> {{ventaProducto.ventasIngresos | currency}} </b></label>
                        </td>
                    </tr>

                    <tr class="mat-row">
                        <td style="padding-left: 10px;"> 
                            <label class="labelLink" (click)="ventaProducto_consultarPropinasPorPersonal()"> Propinas ({{ventaProducto.propinasTotales}}) </label>
                        </td>
                        <td style="text-align: right; padding-right: 7px;">
                            <label> {{ventaProducto.propinasPagoTotal | currency}} </label>
                        </td>
                    </tr>
                        
                    <tr class="mat-row">
                        <td style="padding-left: 10px;"> 
                            <label class="labelLink" (click)="ventaProducto_consultarCancelaciones()"> Cancelaciones ({{ventaProducto.cancelacionesTotales}}) </label>
                        </td>
                        <td style="text-align: right; padding-right: 7px;">
                            <label> {{ventaProducto.cancelacionesPagoTotal | currency}} </label>
                        </td>
                    </tr>

                    <tr class="mat-row">
                        <td style="padding-left: 10px;"> 
                            <label class="labelLink" (click)="ventaProducto_consultarDevoluciones()"> Devoluciones ({{ventaProducto.devolucionesTotales}}) </label>
                        </td>
                        <td style="text-align: right; padding-right: 7px;">
                            <label> {{ventaProducto.devolucionesPagoTotal | currency}} </label>
                        </td>
                    </tr>

                    <tr class="mat-row">
                        <td style="padding-left: 10px;"> 
                            <label class="labelLink" (click)="ventaProducto_consultarVentasEliminadas()"> Ventas Eliminadas ({{ventaProducto.ventasEliminadasTotales}}) </label>
                        </td>
                        <td style="text-align: right; padding-right: 7px;">
                            <label> {{ventaProducto.ventasEliminadasPagoTotal | currency}} </label>
                        </td>
                    </tr>
                    
                    <tr class="mat-row">
                        <td style="padding-left: 10px;"> 
                            <label class="labelLink" (click)="ventaProducto_modalVarios(5)"> {{'reporteVentaProductoTranslate.descuentos' | translate}} </label>
                        </td>
                        <td style="text-align: right; padding-right: 7px;">
                            <label> {{ventaProducto.descuentosPagoTotal | currency}} </label>
                        </td>
                    </tr>

                    <tr class="mat-row">
                        <td style="padding-left: 10px;"> 
                            <label class="labelLink" (click)="ventaProducto_consultarRetiroEfectivo()"> Retiro de Efectivo ({{ventaProducto.RetiroEfectivoTotales}}) </label>
                        </td>
                        <td style="text-align: right; padding-right: 7px;">
                            <label> {{ventaProducto.RetiroEfectivoPagoTotal | currency}} </label>
                        </td>
                    </tr>

                    <tr class="mat-row">
                        <td style="padding-left: 10px;"> 
                            <label><b> Egresos </b></label>
                        </td>
                        <td style="text-align: right; padding-right: 7px;">
                            <label><b> {{ventaProducto.ventasEgresos | currency}} </b></label>
                        </td>
                    </tr>

                    <tr class="mat-row">
                        <td style="padding-left: 10px;"> 
                            <label><b> Total </b></label>
                        </td>
                        <td style="text-align: right; padding-right: 7px;">
                            <label><b> {{ventaProducto.ventasTotal | currency}} </b></label>
                        </td>
                    </tr>
                </table>
            </div>

            <div class="col-lg-1 ocultarDivSeparador"></div>

            <!-- Tabla de Comisiones y Cuentas por Cobrar -->
            <div class="col-lg-5">
                <!-- Tabla de Comisiones -->
                <table class="mat-table mat-elevation-z8 m-3 pb-2" id="tablaDeComisiones" style="border-radius: 7px; border: solid 1px #c5c4c4; margin-left: 15px; width: 95%;">
                    <tr class="mat-header-row">
                        <th style="text-align: center; width: 100%;" colspan="2">
                            <label class="labelLink" (click)="ventaProducto_obtenerDataComisiones(2)" style="font-size: large;"> {{'reporteVentaProductoTranslate.comisiones' | translate}} </label>
                        </th>
                    </tr>

                    <tr class="mat-row">
                        <td style="padding-left: 10px;"> 
                            <label> {{'reporteVentaProductoTranslate.servicios' | translate}} ({{ventaProducto.comisiones.serviciosCantidad}}) </label>
                        </td>
                        <td style="text-align: right; padding-right: 7px;">
                            <label > {{ventaProducto.comisiones.serviciosTotal | currency}}</label>  
                        </td>
                    </tr>
                        
                    <tr class="mat-row">
                        <td style="padding-left: 10px;"> 
                            <label> {{'reporteVentaProductoTranslate.productos' | translate}} ({{ventaProducto.comisiones.productosCantidad}})</label>
                        </td>
                        <td style="text-align: right; padding-right: 7px;">
                            <label> {{ventaProducto.comisiones.productosTotal | currency}} </label>
                        </td>
                    </tr>

                    <tr class="mat-row">
                        <td style="padding-left: 10px;"> 
                            <label> {{'reporteVentaProductoTranslate.paquetes' | translate}} ({{ventaProducto.comisiones.paquetesCantidad}}) </label>
                        </td>
                        <td style="text-align: right; padding-right: 7px;">
                            <label> {{ventaProducto.comisiones.paquetesTotal | currency}} </label>
                        </td>
                    </tr>
                        
                    <tr class="mat-row">
                        <td style="padding-left: 10px;"> 
                            <label><b> {{'reporteVentaProductoTranslate.comisionesTotal' | translate}} </b></label>
                        </td>
                        <td style="text-align: right; padding-right: 7px;">
                            <label><b> {{ventaProducto.comisiones.comisionesTotales | currency }} </b></label>
                        </td>
                    </tr>
                </table>

                <!-- Tabla de Cuentas por Cobrar -->
                <table class="mat-table mat-elevation-z8 m-3" id="tablaDeCuentaPorCobrar" style="border-radius: 7px; border: solid 1px #c5c4c4; margin-left: 15px;width: 95%;">
                    <tr class="mat-header-row">
                        <th style="text-align: center; width: 100%;"  colspan="2">
                            <label class="labelLink" (click)="ventaProducto_obtenerDataCuentasporCobrar(6)" style="font-size: large;"> Cuentas por Cobrar </label>
                        </th>
                    </tr>

                    <tr class="mat-row">
                        <td style="padding-left: 10px;"> 
                            <label> Clientes ({{ventaProducto.cuentascobrar.clientesTotal}})</label>
                        </td>
                        <td style="text-align: right; padding-right: 7px;">
                            <label> {{ventaProducto.cuentascobrar.clientesCantidad | currency}} </label>
                        </td>
                    </tr>
                </table> 
            </div>
        </div>

        <!-- Pestañas -->
        <mat-tab-group dynamicHeight="true" mat-align-tabs="left" preserveContent="true" #tabGroup>
            <div id="myTabContent" class="tab-content">
                <!-- Pestaña de Ver Producto -->
                <mat-tab id="pestañaProducto" label="{{'reporteVentaProductoTranslate.verProducto' | translate}}" style="width: 50%;" class="row col-lg-12">
                    <!-- Tabla de Top Productos -->
                    <div class="col-lg-5">
                        <table class="mat-table mat-elevation-z8 m-3" id="tablaDeTopProductos" style="max-width: 553px; border: solid 1px #c5c4c4; border: solid 1px #c5c4c4; text-align: center; width: -webkit-fill-available;">
                            <tr class="mat-header-row">
                                <th style="text-align: center; width: 270px;">
                                    <label><b> {{'reporteVentaProductoTranslate.productosTop' | translate}} </b></label>
                                </th>
                                <th style="width: 170px;">
                                    <label (click)="ventaProducto_selectPestana2('li3','a3')" id="lblCantidad" style="cursor: pointer; color:#064a59"><b> {{'reporteVentaProductoTranslate.cantidad' | translate}} </b></label>
                                    <label style="color:#064a59"><b> | </b></label>
                                    <label (click)="ventaProducto_selectPestana2('li4','a4')" id="lblMonto" style="cursor: pointer;"><b> {{'reporteVentaProductoTranslate.monto' | translate}} </b></label>
                                </th>
                            </tr>
        
                            <tr class="mat-row" *ngFor="let item of ventaProducto.dataTopProductos; index as i;" id="tabla{{i}}" [hidden]="ventaProducto.dataTopProductos[i].nombreC == ''">
                                <td style="padding-left: 10px;">
                                    <mat-icon svgIcon="iconEstrella" style="color: gold; height: 17px; display: flex; position: absolute;" id="star{{i}}" *ngIf="!(item.nombreC == '' || item.nombreC == 'Sin Productos')"></mat-icon>
                                    <div [hidden]="ventaProducto.dataTopProductos[0].nombreC == 'Sin Productos'">
                                        <label id="nombreCantidad{{i}}" style="z-index:-1;float:left;padding-left:20px; text-align:center;">{{item.nombreM}}{{item.nombrePro}}{{item.nombreC}}</label>
                                        <label id="nombrePrecio{{i}}" style=" display:none;z-index:-1;float:left;padding-left:20px; text-align:center;">{{item.nombreMP}}{{item.nombreProP}}{{item.nombreP}}</label>
                                    </div>
                                    <div [hidden]="ventaProducto.dataTopProductos[0].nombreC != 'Sin Productos'">
                                        <label id="nombreCantidad2{{i}}" style="z-index:-1; text-align:center;">{{item.nombreM}}{{item.nombrePro}}{{item.nombreC}}</label>
                                        <label id="nombrePrecio2{{i}}" style=" display:none;z-index:-1; text-align:center;">{{item.nombreMP}}{{item.nombreProP}}{{item.nombreP}}</label>
                                    </div>
                                </td>

                                <td style="padding-left: 10px;">
                                    <div>
                                        <label id="cantidad{{i}}" style="z-index:-1;">{{item.cantidad}}</label>
                                        <label id="precio{{i}}" style="display:none;z-index:-1;">{{item.precio | currency}}</label>
                                    </div>
                                </td>
                            </tr>
                                
                            <tr class="mat-row" id="trTotal" style="display:none">
                                <td style="text-align: left;">
                                    <label style="margin-left:26px"> Total de Productos </label>
                                </td>
                                <td style="padding-left: 10px;">
                                    <div>
                                        <label> {{ventaProducto.totalTopProducto | currency}} </label>
                                    </div>
                                </td>
                            </tr>
                        </table>
                    </div>

                    <div class="row col-lg-6 ocultarDivSeparador"></div>

                    <!-- Filtro de Busqueda, Botones de Exportación, Tabla de Productos y Tabla Total -->
                    <div class="row col-lg-12 pt-2" [hidden]="ventaProducto.dataProductos.length == 0">
                        <!-- Filtro de Busqueda y Botones de Exportación -->
                        <div class="col-lg-12" style="margin: 0.3%">
                            <!-- Filtro de busqueda -->
                            <div class="col-lg-7 agrandarBarraBusqueda" style="padding-left: 25px; float: left;">
                                <span style="position: absolute; margin-left: 10px; margin-top: 4px; color: #337dc0;">
                                    <mat-icon class="iconosBookipp" svgIcon="iconBuscar" style="position: relative; width: 22px; height: 22px; cursor: pointer;"></mat-icon>
                                </span>
                                <input id="Text1" placeholder="Marca, Producto, Presentación" style="height: 30px; padding-left: 35px;" type="text" [(ngModel)]="ventaProducto.buscarProductos" class="form-control borderAzul" (ngModelChange)="ventaProducto_busquedaProductos()"/>
                            </div>
                            
                            <!-- Botones de Exportación -->
                            <div class="col-lg-2" style="padding-right: 1.5rem; float: right;">
                                <div style="height: 50px;">
                                    <span (click)="exportToCSV(1)" style="color: #337dc0; float: right;">
                                        <mat-icon class="iconosBookipp" svgIcon="iconCsv" style="cursor: pointer; font-size: 30px !important; z-index: 500001; height: 50px;padding-top: 4px;"></mat-icon>
                                    </span>
                                    <span (click)="exportToExcel(1)" style="color: #337dc0; float: right;">
                                        <mat-icon class="iconosBookipp" svgIcon="iconExcel" style="cursor: pointer; font-size: 30px !important; z-index: 500001; height: 50px;padding-top: 4px;"></mat-icon>
                                    </span>
                                </div>
                            </div>
                        </div>

                        <!-- Tabla de Productos -->
                        <div class="col-lg-12 pt-2" id="contenedorTablaProductos">
                            <mat-card-content style="margin-top: 10px; overflow: auto; max-height: 300px;">
                                <table mat-table [dataSource]="dataSourceProductos" matSort #matSort01="matSort" class="mat-elevation-z8" style="width: calc(100% - 15px); margin-left: 15px; border: solid 1px #c5c4c4;">
                                    <ng-container matColumnDef="Producto">
                                        <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 105px;" class="tablesRowsSize">
                                            {{'reporteVentaProductoTranslate.producto'| translate}}
                                        </th>
                                        <td mat-cell *matCellDef="let element" style="text-align: center;">
                                            <label class="labelLink" (click)="ventaProducto_consultaProducto(element, 4)"> {{element.Producto}} </label>
                                        </td>
                                    </ng-container>                      
                
                                    <ng-container matColumnDef="Marca">
                                        <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 90px;" class="tablesRowsSize">
                                            {{'reporteVentaProductoTranslate.marca'| translate}}
                                        </th>
                                        <td mat-cell *matCellDef="let element" style="text-align: center;">
                                            <label class="labelLink" (click)="ventaProducto_consultaMarca(element,3)"> {{element.Marca}} </label>
                                        </td>
                                    </ng-container>
                
                                    <ng-container matColumnDef="Presentacion">
                                        <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 95px;" class="tablesRowsSize">
                                            {{'reporteVentaProductoTranslate.presentacion'| translate}}
                                        </th>
                                        <td mat-cell *matCellDef="let element" style="text-align: center;"> 
                                            {{element.Presentacion}}
                                        </td>
                                    </ng-container>
                
                                    <ng-container matColumnDef="Cantidad Vendida">
                                        <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 125px;" class="tablesRowsSize">
                                            {{'reporteVentaProductoTranslate.cantidad'| translate}}
                                        </th>
                                        <td mat-cell *matCellDef="let element" style="text-align: center;"> 
                                            {{element["Cantidad Vendida"]}} 
                                        </td>
                                    </ng-container>
                
                                    <ng-container matColumnDef="Total Venta">
                                        <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 95px;" class="tablesRowsSize">
                                            {{'reporteVentaProductoTranslate.total'| translate}}
                                        </th>
                                        <td mat-cell *matCellDef="let element" style="text-align: center;"> 
                                            {{element["Total Venta"] | currency}}
                                        </td>
                                    </ng-container>                      
                
                                    <ng-container matColumnDef="Existencia">
                                        <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 100px;" class="tablesRowsSize">
                                            {{'reporteVentaProductoTranslate.existencia'| translate}}
                                        </th>
                                        <td mat-cell *matCellDef="let element" style="text-align: center;"> 
                                            {{element.Existencia}} 
                                        </td>
                                    </ng-container>                  

                                    <tr mat-header-row *matHeaderRowDef="displayedColumns_TablaProductos"></tr>
                                    <tr mat-row *matRowDef="let row; columns: displayedColumns_TablaProductos"></tr>                    
                                </table>
                            </mat-card-content>
                        </div>

                        <!-- Tabla Total -->
                        <div class="col-lg-12 pt-2" id="contenedorTablaTotalProd" style="justify-content: right; display: flex;">
                            <div class="col-lg-3" style="margin-right: 5px;">
                                <!-- Tabla Total -->
                                <table class="mat-table mat-elevation-z8 m-3" id="tablaTotalProd" style="width: 87%; border-radius: 7px;">
                                    <tr class="mat-header-row" style="border: solid 1px;">
                                        <th style="text-align: center; width: 100%;">
                                            <label> {{'reporteVentaProductoTranslate.total' | translate}} </label>
                                        </th>
                                    </tr>
                
                                    <tr class="mat-row" style="border: solid 1px;">
                                        <td style="text-align: right; padding-right: 7px;">
                                            <label > {{ventaProducto.totalProductos | currency}} </label>  
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        
                    </div>
                </mat-tab>

                <!-- Pestaña de Ver Servicio -->
                <mat-tab id="pestañaServicio" label="{{'reporteVentaProductoTranslate.verServicio' | translate}}" style="width: 50%;">
                    <!-- Tablas y Graficos -->
                    <div class="row col-lg-12">
                         <!-- Tabla de Top Servicios -->
                        <div class="col-lg-5" style="display: block; padding-left: 13px;">
                            <table class="mat-table mat-elevation-z8 m-3" id="tablaServicios" style="max-width: 553px; border: solid 1px #c5c4c4; border: solid 1px #c5c4c4; text-align: center; width: -webkit-fill-available;">
                                <tr class="mat-header-row">
                                    <th style="width: 270px;">
                                        <label><b> {{'reporteVentaProductoTranslate.serviciosTop' | translate}} </b></label>
                                    </th>
                                    <th style="width: 170px;">
                                        <label (click)="ventaProducto_selectPestana3('li5','a5')" id="lblServicios" style="cursor: pointer; color:#064a59;"><b> {{'reporteVentaProductoTranslate.servicios' | translate}} </b></label>
                                        <label style="color:#064a59"><b> | </b></label>
                                        <label (click)="ventaProducto_selectPestana3('li6','a6')" id="lblMonto2" style="cursor: pointer;"><b> {{'reporteVentaProductoTranslate.monto' | translate}} </b></label>
                                    </th>
                                </tr>
            
                                <tr class="mat-row" *ngFor="let item of ventaProducto.dataTopServicios; index as i;" id="tabla2{{i}}" [hidden]="ventaProducto.dataTopServicios[i].nombreC == ''">
                                    <td style="padding-left: 10px;">
                                        <mat-icon svgIcon="iconEstrella"  style="color: gold; height: 17px; display: flex; position: absolute;" *ngIf="!(item.nombreC == 'Sin Servicios')"></mat-icon>
                                        <div [hidden]="ventaProducto.dataTopServicios[0].nombreC == 'Sin Servicios'">
                                            <label id="nombreCantidadServicio{{i}}" style="z-index:-1;float:left;padding-left:20px;">{{item.nombreC}}</label> 
                                            <label id="nombrePrecioServicio{{i}}" style=" display:none;z-index:-1;float:left;padding-left:20px;">{{item.nombreP}}</label>
                                        </div>
                                        <div [hidden]="ventaProducto.dataTopServicios[0].nombreC != 'Sin Servicios'">
                                            <label id="nombreCantidadServicio2{{i}}" style="z-index:-1;">{{item.nombreC}}</label>
                                            <label id="nombrePrecioServicio2{{i}}" style=" display:none;z-index:-1;">{{item.nombreP}}</label>
                                        </div>
                                    </td>

                                    <td style="padding-left: 10px;">
                                        <div>
                                            <label id="servicioss{{i}}" style="z-index:-1;">{{item.cantidad}}</label>
                                            <label id="sucursales{{i}}" style=" display:none;z-index:-1;">{{item.precio | currency}}</label>
                                        </div>
                                    </td>
                                </tr>
                                    
                                <tr class="mat-row" id="trTotalServicio" style="display:none">
                                    <td style="text-align: left;">
                                        <label style="margin-left:26px">Total de Servicios</label>
                                    </td>
                                    <td style="padding-left: 10px;">
                                        <div>
                                            <label> {{ventaProducto.totalTopServicio | currency}} </label>
                                        </div>
                                    </td>
                                </tr>
                            </table>
                        </div>

                        <div class="col-lg-2 ocultarDivSeparador" style="height: 470px;"></div>

                        <!-- Pestañas del Gráfico -->
                        <mat-tab-group class="col-lg-5" dynamicHeight="true" mat-align-tabs="right" headerPosition="below" preserveContent="true" #tabGroup2>
                            <div id="myTabContent04" class="tab-content">
                                <!-- Pestaña de Citas por Día -->
                                <mat-tab id="pestañaCitasXDia" label="{{'reporteVentaProductoTranslate.dia' | translate}}" (click)="ventaProducto.selectPestana4('li7','a7')" style="width: 50%;">
                                    <!-- Gráfico de Citas por Día -->
                                    <div class="row col-lg-12">
                                        <div class="col-lg-12 pt-2" id="graficoCitaDia" style="display: flex; justify-content: center;">
                                            <canvas id="citasDia" style="max-width: 550px; max-height: 400px; width: 550px; height: 400px; min-height: 400px; margin-bottom: 10px;"></canvas> 
                                        </div>
                                    </div>
                                </mat-tab>

                                <!-- Pestaña de Citas por Hora -->
                                <mat-tab id="pestañaCitasXHora" label="{{'reporteVentaProductoTranslate.hora' | translate}}" (click)="ventaProducto.selectPestana4('li7','a8')" style="width: 50%;">
                                    <!-- Gráfico de Citas por Hora -->
                                    <div class="row col-lg-12">
                                        <div class="col-lg-12 pt-2" id="graficoCitaHora" style="display: flex; justify-content: center;">
                                            <canvas id="citas" style="max-width: 550px; max-height: 400px; width: 550px; height: 400px; min-height: 400px; margin-bottom: 10px;"></canvas> 
                                        </div>
                                    </div>
                                </mat-tab>
                            </div>
                        </mat-tab-group>
                    </div>
                   
                    <!-- Filtro de Busqueda, Botones de Exportación, Tabla de Servicios y Tabla Total -->
                    <div class="row col-lg-12" [hidden]="ventaProducto.dataServicios.length == 0">
                        <!-- Filtro de Busqueda y Botones de Exportación -->
                        <div class="col-lg-12" style="margin: 0.3%">
                            <!-- Filtro de busqueda -->
                            <div class="col-lg-7 agrandarBarraBusqueda" style="padding-left: 25px; float: left;">
                                <span style="position: absolute; margin-left: 10px; margin-top: 4px; color: #337dc0;">
                                    <mat-icon class="iconosBookipp" svgIcon="iconBuscar" style="position: relative; width: 22px; height: 22px; cursor: pointer;"></mat-icon>
                                </span>
                                <input id="buscadorVentaProducto" placeholder="Servicio, Personal" style="height: 30px; padding-left: 35px; width: 93%;" type="text" [(ngModel)]="ventaProducto.buscarServicios" class="form-control borderAzul" (ngModelChange)="ventaProducto_busquedaServicio()"/>
                            </div>

                            <!-- Botones de Exportación -->
                            <div class="col-lg-2" style="padding-right: 1.5rem; float: right;">
                                <div style="height: 50px;">
                                    <span (click)="exportToCSV(2)" style="color: #337dc0; float: right;">
                                        <mat-icon class="iconosBookipp" svgIcon="iconCsv" style="cursor: pointer; font-size: 30px !important; z-index: 500001; height: 50px;padding-top: 4px;"></mat-icon>
                                    </span>
                                    <span (click)="exportToExcel(2)" style="color: #337dc0; float: right;">
                                        <mat-icon class="iconosBookipp" svgIcon="iconExcel" style="cursor: pointer; font-size: 30px !important; z-index: 500001; height: 50px;padding-top: 4px;"></mat-icon>
                                    </span>
                                </div>
                            </div>
                        </div>

                        <!-- Tabla de Servicios -->
                        <div class="col-lg-12 pt-2" id="contenedorTablaServicios">
                            <mat-card-content style="margin-top: 10px; overflow: auto; max-height: 300px;">
                                <div id="excelTable" [hidden]="true"></div>
                                <table mat-table [dataSource]="dataSourceServicios" matSort #matSort02="matSort" class="mat-elevation-z8" style="width: calc(100% - 15px); margin-left: 15px; border: solid 1px #c5c4c4;">
                                    <ng-container matColumnDef="Servicio">
                                        <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                            {{'reporteVentaProductoTranslate.servicio'| translate}}
                                        </th>
                                        <td mat-cell *matCellDef="let element" style="text-align: center;">
                                            <label> {{element.Servicio}} </label>
                                        </td>
                                    </ng-container>
                
                                    <ng-container matColumnDef="Personal">
                                        <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                            {{'reporteVentaProductoTranslate.personal'| translate}}
                                        </th>
                                        <td mat-cell *matCellDef="let element" style="text-align: center;">
                                            <label> {{element.Personal}} </label>
                                        </td>
                                    </ng-container>
                
                                    <ng-container matColumnDef="Cantidad">
                                        <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 135px;" class="tablesRowsSize">
                                            {{'reporteVentaProductoTranslate.cantidad'| translate}}
                                        </th>
                                        <td mat-cell *matCellDef="let element" style="text-align: center;"> 
                                            {{element.Cantidad}}
                                        </td>
                                    </ng-container>
                
                                    <ng-container matColumnDef="Total">
                                        <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 135px;" class="tablesRowsSize">
                                            {{'reporteVentaProductoTranslate.ventaTotal'| translate}}
                                        </th>
                                        <td mat-cell *matCellDef="let element" style="text-align: center;"> 
                                            {{element.Total | currency}} 
                                        </td>
                                    </ng-container>

                                    <tr mat-header-row *matHeaderRowDef="displayedColumns_TablaServicios"></tr>
                                    <tr mat-row *matRowDef="let row; columns: displayedColumns_TablaServicios"></tr>                    
                                </table>
                            </mat-card-content>
                        </div>

                        <!-- Tabla Total -->
                        <div class="col-lg-12 pt-2" id="contenedorTablaTotalServ" style="justify-content: right; display: flex;">
                            <div class="col-lg-3">
                                <!-- Tabla Total -->
                                <table class="mat-table mat-elevation-z8 m-3" id="tablaTotalServ" style="width: 87%; border-radius: 7px;">
                                    <tr class="mat-header-row" style="border: solid 1px;">
                                        <th style="text-align: center; width: 100%;">
                                            <label> {{'reporteVentaProductoTranslate.total' | translate}} </label>
                                        </th>
                                    </tr>
                
                                    <tr class="mat-row" style="border: solid 1px;">
                                        <td style="text-align: right; padding-right: 7px;">
                                            <label > {{ventaProducto.totalServicios | currency}} </label>  
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div>
                </mat-tab>
            </div>
        </mat-tab-group>
    </mat-card-content>
</mat-card>

<!-- MODAL VENTAS / COMISIONES / MARCA / SHAMPOO / DESCUENTOS / CUENTAS POR COBRAR (6) -->
<div id="modal-Varios" tabindex="-1" role="dialog" aria-hidden="true" class="modal fade modal-Varios" >
    <div class="modal-dialog modalesSizeLg" style="font-weight: 400; width: auto; max-width: max-content;">
        <div class="modal-content modalesSizeLg" id="modalVentasAux" style="margin: 0 auto; font-weight: 400; margin-top: -1px;" *ngIf="ventaProducto.abierto == 1">
            <div class="modal-header">
                <div class="col-lg-12" style="width: 98%;">
                    <span style="display: flex; justify-content: center;">{{'reporteVentaProductoTranslate.ventasM' | translate}}</span>
                    <span style="display: flex; justify-content: center;">{{fechaCompleta}}</span>
                </div>
                <mat-icon class="iconosBookipp" svgIcon="iconCruzCirculo" (click)="ventaProducto_cerrarModalVarios()" style="cursor: pointer; float: right; margin-top: -30px;"></mat-icon>
            </div>
            <div class="modal-body" [hidden]="ventaProducto.dataVentasGrid.length == 0">
                <div class="row">
                    <div class="col-xs-2" style="float: right; height: 30px;" >
                        <span (click)="exportToCSV(3)" style="color: #337dc0; float: right;">
                            <mat-icon class="iconosBookipp" svgIcon="iconCsv" style="cursor: pointer; font-size: 19px !important; z-index: 1042; height: 30px;"></mat-icon>
                        </span>
                        <span (click)="exportToExcel(3)" style="color: #337dc0; float: right;">
                            <mat-icon class="iconosBookipp" svgIcon="iconExcel" style="cursor: pointer; font-size: 19px !important; z-index: 1042; height: 30px;"></mat-icon>
                        </span>
                    </div>
                </div>
                <div class="row" style="width: auto; position: relative; padding-top: 5px; justify-content: center;">
                    <div class="col-md-12 mx-2" id="Div2" style="text-align: center; border: solid 1px black; width: 99%; height: 370px; overflow: auto; padding: 0px;">
                        <table mat-table id="modalTabla01" matSort #matSort03="matSort" [dataSource]="dataSourceVentasGrid" class="">
                            <ng-container matColumnDef="tipo">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                    {{'reporteVentaProductoTranslate.tipo'| translate}}
                                </th>
                                <td mat-cell *matCellDef="let element" style="text-align: center;">
                                    <label> {{element.tipo}} </label>
                                </td>
                            </ng-container>
        
                            <ng-container matColumnDef="folio">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                    {{'reporteVentaProductoTranslate.folio'| translate}}
                                </th>
                                <td mat-cell *matCellDef="let element" style="text-align: center;">
                                    <label class="labelLink" (click)="_ticketService.caja_movimientos_mostrarTicketFolioPago(element.folioPago)"> {{element.folio}} </label>
                                </td>
                            </ng-container>
        
                            <ng-container matColumnDef="fecha">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 135px;" class="tablesRowsSize">
                                    Fecha Pago
                                </th>
                                <td mat-cell *matCellDef="let element" style="text-align: center;"> 
                                    {{element.fecha | date:'dd/MM/yyyy'}}
                                </td>
                            </ng-container>

                            <ng-container matColumnDef="fechaCita">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 135px;" class="tablesRowsSize">
                                    Fecha Cita
                                </th>
                                <td mat-cell *matCellDef="let element" style="text-align: center;"> 
                                    {{element.fechaCita | date:'dd/MM/yyyy'}}
                                </td>
                            </ng-container>
        
                            <ng-container matColumnDef="personal">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 135px;" class="tablesRowsSize">
                                    {{'reporteVentaProductoTranslate.personal'| translate}}
                                </th>
                                <td mat-cell *matCellDef="let element" style="text-align: center;"> 
                                    {{element.personal}} 
                                </td>
                            </ng-container>

                            <ng-container matColumnDef="cliente">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                    {{'reporteVentaProductoTranslate.cliente'| translate}}
                                </th>
                                <td mat-cell *matCellDef="let element" style="text-align: center;">
                                    <label> {{element.cliente}} </label>
                                </td>
                            </ng-container>
        
                            <ng-container matColumnDef="referencia">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                    Referencia
                                </th>
                                <td mat-cell *matCellDef="let element" style="text-align: center;">
                                    <label> {{element.referencia}} </label>
                                </td>
                            </ng-container>

                            <ng-container matColumnDef="producto">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 200px;" class="tablesRowsSize">
                                    {{'reporteVentaProductoTranslate.producto'| translate}}
                                </th>
                                <td mat-cell *matCellDef="let element" style="text-align: center;">
                                    <label> {{element.producto}} </label>
                                </td>
                            </ng-container>
        
                            <ng-container matColumnDef="presentacion">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 150px;" class="tablesRowsSize">
                                    {{'reporteVentaProductoTranslate.presentacion'| translate}}
                                </th>
                                <td mat-cell *matCellDef="let element" style="text-align: center;">
                                    <label> {{element.presentacion}} </label>
                                </td>
                            </ng-container>

                            <ng-container matColumnDef="servicio">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 180px;" class="tablesRowsSize">
                                    {{'reporteVentaProductoTranslate.servicio'| translate}}
                                </th>
                                <td mat-cell *matCellDef="let element" style="text-align: center;">
                                    <label> {{element.servicio}} </label>
                                </td>
                            </ng-container>
        
                            <ng-container matColumnDef="numPaquete">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                    Sesión
                                </th>
                                <td mat-cell *matCellDef="let element" style="text-align: center;">
                                    <label> {{element.numPaquete}} </label>
                                </td>
                            </ng-container>

                            <ng-container matColumnDef="cantidad">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                    {{'reporteVentaProductoTranslate.cantidad'| translate}}
                                </th>
                                <td mat-cell *matCellDef="let element" style="text-align: center;">
                                    <label> {{element.cantidad}} </label>
                                </td>
                            </ng-container>
        
                            <ng-container matColumnDef="ventaTotal">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                    {{'reporteVentaProductoTranslate.total'| translate}}
                                </th>
                                <td mat-cell *matCellDef="let element" style="text-align: center;">
                                    <label> {{element.ventaTotal | currency}} </label>
                                </td>
                            </ng-container>

                            <ng-container matColumnDef="totalAbono">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                    Total Abono
                                </th>
                                <td mat-cell *matCellDef="let element" style="text-align: center;">
                                    <label> {{element.totalAbono | currency}} </label>
                                </td>
                            </ng-container>
        
                            <ng-container matColumnDef="comision">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                    {{'reporteVentaProductoTranslate.comision'| translate}}
                                </th>
                                <td mat-cell *matCellDef="let element" style="text-align: center;">
                                    <label> {{element.comision| currency}} </label>
                                </td>
                            </ng-container>

                            <ng-container matColumnDef="costo">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                    {{'producto.costo' | translate}}
                                </th>
                                <td mat-cell *matCellDef="let element" style="text-align: center;">
                                    <label> 
                                        {{element.costo == '-'? '-' : element.costo | currency}}
                                    </label>
                                </td>
                            </ng-container>

                            <ng-container matColumnDef="utilidad">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                    {{'reporteVentaProductoTranslate.utilidad' | translate}}
                                </th>
                                <td mat-cell *matCellDef="let element" style="text-align: center;">
                                    <label> {{element.utilidad | currency}} </label>
                                </td>
                            </ng-container>

                            <tr mat-header-row *matHeaderRowDef="displayedColumns_ModalTabla01"></tr>
                            <tr mat-row *matRowDef="let row; columns: displayedColumns_ModalTabla01"></tr>                    
                        </table>
                        <!-- <div style="text-align: center;border: solid 1px black; width: 100%; height: 270px;" ui-grid="ventaProducto.gridVentas" class="grid" ui-grid-auto-resize>
                        </div> -->
                    </div>
                </div>
                <div class="row" style="width: auto; position: relative; justify-content: center; overflow: auto;">
                    <table id="totalesModalVentas01" class="mat-table mat-elevation-z8 m-3" style="width: 75%; border: solid 1px #c5c4c4; border: solid 1px #c5c4c4; text-align: center;">
                        <tr class="mat-header-row">
                            <th class="cellBorder">
                                <span class="col-xs-3" style="padding-top: 4px !important;  text-align: center; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">{{'reporteVentaProductoTranslate.total' | translate}}</span>
                            </th>
                            <th class="cellBorder">
                                <span class="col-xs-3" style="padding-top: 4px !important;  border-left: hidden; text-align: center; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">{{'reporteVentaProductoTranslate.comision' | translate}}</span>
                            </th>
                            <th class="cellBorder">
                                <span class="col-xs-3" style="padding-top: 4px !important;  border-left: hidden; text-align: center; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">{{'producto.costo' | translate}}</span>
                            </th>
                            <th class="cellBorder">
                                <span class="col-xs-3" style="padding-top: 4px !important;  border-left: hidden; text-align: center; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">{{'reporteVentaProductoTranslate.utilidad' | translate}}</span>
                            </th>
                        </tr>
    
                        <tr class="mat-row">
                            <td class="cellBorder"> 
                                <span class="col-xs-3" style="padding-top: 4px !important;  border-top: hidden; text-align: right; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">{{ventaProducto.ventasModalTotal | currency}}</span>
                            </td>
                            <td class="cellBorder">
                                <span class="col-xs-3" style="padding-top: 4px !important;  border-top: hidden; border-left: hidden; text-align: right; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">{{ventaProducto.ventasModalComisionTotal | currency}}</span>
                            </td>
                            <td class="cellBorder">
                                <span class="col-xs-3" style="padding-top: 4px !important;  border-top: hidden; border-left: hidden; text-align: right; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">{{ventaProducto.ventasModalCosto | currency}}</span>
                            </td>
                            <td class="cellBorder">
                                <span class="col-xs-3" style="padding-top: 4px !important;  border-top: hidden; border-left: hidden; text-align: right; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">{{ventaProducto.ventasModalUtilidadTotal | currency}}</span>                                
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
            <div class="modal-body" *ngIf="ventaProducto.dataVentasGrid.length == 0" style="text-align: center;">
                <span style="font-style: italic; font-size: large; margin-top: 30px; text-align: center;">{{'reporteVentaProductoTranslate.noReg' | translate}}</span>
            </div>
        </div>

        <div class="modal-content" id="modalComisionesAux" style="margin: 0 auto; font-weight: 400; margin-top: -1px;" *ngIf="ventaProducto.abierto == 2">
            <div class="modal-header">
                <div class="col-lg-12" style="width: 98%;">
                    <span style="display: flex; justify-content: center;">{{'reporteVentaProductoTranslate.comisionesM' | translate}}</span>
                    <span style="display: flex; justify-content: center;">{{fechaCompleta}}</span>
                    <mat-icon class="iconosBookipp" svgIcon="iconCruzCirculo" (click)="ventaProducto_cerrarModalVarios()" style="cursor: pointer; float: right; margin-top: -30px;"></mat-icon>
                </div>
            </div>
            
            <div class="modal-body" [hidden]="ventaProducto.dataVentasGrid.length == 0" >
                <div class="row">
                    <div class="col-xs-2" style="float: right; cursor: pointer; height: 50px;" >
                        <span (click)="exportToCSV(4)" style="color: #337dc0; float: right;">
                            <mat-icon class="iconosBookipp" svgIcon="iconCsv" style="cursor: pointer; font-size: 30px !important; z-index: 1042; height: 50px;padding-top: 4px;"></mat-icon>
                        </span>
                        <span (click)="exportToExcel(4)" style="color: #337dc0; float: right;">
                            <mat-icon class="iconosBookipp" svgIcon="iconExcel" style="cursor: pointer; font-size: 30px !important; z-index: 1042; height: 50px;padding-top: 4px;"></mat-icon>
                        </span>
                    </div>
                </div>
                <div class="row" style="width: auto; position: relative; padding-top: 5px; justify-content: center;">
                    <div class="col-md-12 divContainerTableSizeLg" id="Div5">
                        <table mat-table id="modalTabla02" matSort #matSort04="matSort" [dataSource]="dataSourceComisiones" class="" style="width: calc(100% - 15px);">
                            <ng-container matColumnDef="vendedor">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                    {{'reporteVentaProductoTranslate.vendedor'| translate}}
                                </th>
                                <td mat-cell *matCellDef="let element" style="text-align: center;">
                                    <label class="labelLink" (click)="ventaProducto_consultaComisionPersonal(element)"> {{element.vendedor}} </label>
                                </td>
                            </ng-container>
        
                            <ng-container matColumnDef="cantidad">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                    {{'reporteVentaProductoTranslate.cantidad'| translate}}
                                </th>
                                <td mat-cell *matCellDef="let element" style="text-align: center;">
                                    <label> {{element.cantidad}} </label>
                                </td>
                            </ng-container>
        
                            <ng-container matColumnDef="ventaTotal">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 135px;" class="tablesRowsSize">
                                    {{'reporteVentaProductoTranslate.total'| translate}}
                                </th>
                                <td mat-cell *matCellDef="let element" style="text-align: center;"> 
                                    {{element.ventaTotal| currency}} 
                                </td>
                            </ng-container>

                            <ng-container matColumnDef="comision">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                    {{'reporteVentaProductoTranslate.comision'| translate}}
                                </th>
                                <td mat-cell *matCellDef="let element" style="text-align: center;">
                                    <label> {{element.comision| currency}} </label>
                                </td>
                            </ng-container>

                            <ng-container matColumnDef="utilidad">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                    {{'reporteVentaProductoTranslate.utilidad'| translate}}
                                </th>
                                <td mat-cell *matCellDef="let element" style="text-align: center;">
                                    <label> {{element.utilidad | currency}} </label>
                                </td>
                            </ng-container>

                            <tr mat-header-row *matHeaderRowDef="displayedColumns_ModalTabla02"></tr>
                            <tr mat-row *matRowDef="let row; columns: displayedColumns_ModalTabla02"></tr>                    
                        </table>
                        <!-- <div style="text-align: center;border: solid 1px black; width: 100%; height: 270px;" ui-grid="ventaProducto.gridComisiones" class="grid" ui-grid-auto-resize >
                        </div> -->
                    </div>
                </div>
            </div>
            <div class="modal-body" *ngIf="ventaProducto.dataVentasGrid.length==0" style="text-align: center;">
                <span style="font-style: italic; font-size: large; margin-top: 30px; text-align: center;">{{'reporteVentaProductoTranslate.noReg' | translate}}</span>
            </div>
        </div>

        <div class="modal-content"  id="modalMarcaAux" style="margin: 0 auto; font-weight: 400; margin-top: -1px;" *ngIf="ventaProducto.abierto == 3">
            <div class="modal-header">
                <div class="col-lg-12" style="width: 98%;">
                    <span  class="puntos" style="display: flex; justify-content: center;">{{'reporteVentaProductoTranslate.marcaM' | translate}}: {{ventaProducto.dataMarca[0].marca}}</span>
                    <span style="display: flex; justify-content: center;">{{fechaCompleta}}</span>
                    <mat-icon class="iconosBookipp" svgIcon="iconCruzCirculo" (click)="ventaProducto_cerrarModalVarios()" style="cursor: pointer; float: right; margin-top: -30px;"></mat-icon>
                </div>
            </div>
            <div class="modal-content" style="margin: 0 auto; font-weight: 400; margin-top: -1px;">
                <div class="modal-body" >
                    <div class="row">
                        <div class="col-xs-2" style="float: right; cursor: pointer; height: 50px;" >
                            <span (click)="exportToCSV(5)" style="color: #337dc0; float: right;">
                                <mat-icon class="iconosBookipp" svgIcon="iconCsv" style="cursor: pointer; font-size: 30px !important; z-index: 1042; height: 50px;padding-top: 4px;"></mat-icon>
                            </span>
                            <span (click)="exportToExcel(5)" style="color: #337dc0; float: right;">
                                <mat-icon class="iconosBookipp" svgIcon="iconExcel" style="cursor: pointer; font-size: 30px !important; z-index: 1042; height: 50px;padding-top: 4px;"></mat-icon>
                            </span>
                        </div>
                    </div>
                    <div class="row" style="width: auto; position: relative; padding-top: 5px; justify-content: center;">
                        <div class="col-md-12 divContainerTableSizeLg" id="Div3" style="justify-content: unset;">
                            <table mat-table id="modalTabla03" matSort #matSort05="matSort" [dataSource]="dataSourceMarca" class="" style="width: calc(100% - 15px);">
                                <ng-container matColumnDef="marca">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                        {{'reporteVentaProductoTranslate.marca'| translate}}
                                    </th>
                                    <td mat-cell *matCellDef="let element" style="text-align: center;">
                                        <label> {{element.marca}} </label>
                                    </td>
                                </ng-container>
            
                                <ng-container matColumnDef="producto">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                        {{'reporteVentaProductoTranslate.producto'| translate}}
                                    </th>
                                    <td mat-cell *matCellDef="let element" style="text-align: center;">
                                        <label> {{element.producto}} </label>
                                    </td>
                                </ng-container>
            
                                <ng-container matColumnDef="presentacion">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 135px;" class="tablesRowsSize">
                                        {{'reporteVentaProductoTranslate.presentacion'| translate}}
                                    </th>
                                    <td mat-cell *matCellDef="let element" style="text-align: center;"> 
                                        {{element.presentacion}} 
                                    </td>
                                </ng-container>

                                <ng-container matColumnDef="fecha">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                        {{'reporteVentaProductoTranslate.fecha'| translate}}
                                    </th>
                                    <td mat-cell *matCellDef="let element" style="text-align: center;">
                                        <label> {{element.fecha | date:'dd/MM/yyyy'}} </label>
                                    </td>
                                </ng-container>

                                <ng-container matColumnDef="cliente">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                        {{'reporteVentaProductoTranslate.cliente'| translate}}
                                    </th>
                                    <td mat-cell *matCellDef="let element" style="text-align: center;">
                                        <label> {{element.cliente}} </label>
                                    </td>
                                </ng-container>

                                <ng-container matColumnDef="vendedor">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                        {{'reporteVentaProductoTranslate.vendedor'| translate}}
                                    </th>
                                    <td mat-cell *matCellDef="let element" style="text-align: center;">
                                        <label> {{element.vendedor}} </label>
                                    </td>
                                </ng-container>
            
                                <ng-container matColumnDef="cantidad">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                        {{'reporteVentaProductoTranslate.cantidad'| translate}}
                                    </th>
                                    <td mat-cell *matCellDef="let element" style="text-align: center;">
                                        <label> {{element.cantidad}} </label>
                                    </td>
                                </ng-container>
            
                                <ng-container matColumnDef="ventaTotal">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 135px;" class="tablesRowsSize">
                                        {{'reporteVentaProductoTranslate.total'| translate}}
                                    </th>
                                    <td mat-cell *matCellDef="let element" style="text-align: center;"> 
                                        {{element.ventaTotal| currency}} 
                                    </td>
                                </ng-container>

                                <ng-container matColumnDef="totalAbono">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                        Total Abono
                                    </th>
                                    <td mat-cell *matCellDef="let element" style="text-align: center;">
                                        <label> {{element.totalAbono | currency}} </label>
                                    </td>
                                </ng-container>

                                <ng-container matColumnDef="comision">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                        {{'reporteVentaProductoTranslate.comision'| translate}}
                                    </th>
                                    <td mat-cell *matCellDef="let element" style="text-align: center;">
                                        <label> {{element.comision| currency}} </label>
                                    </td>
                                </ng-container>

                                <ng-container matColumnDef="costo">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                        {{'producto.costo' | translate}}
                                    </th>
                                    <td mat-cell *matCellDef="let element" style="text-align: center;">
                                        <label> {{element.costo == '-'? '-' : element.costo | currency}} </label>
                                    </td>
                                </ng-container>
            
                                <ng-container matColumnDef="utilidad">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                        {{'reporteVentaProductoTranslate.utilidad'| translate}}
                                    </th>
                                    <td mat-cell *matCellDef="let element" style="text-align: center;">
                                        <label> {{element.utilidad | currency}} </label>
                                    </td>
                                </ng-container>

                                <tr mat-header-row *matHeaderRowDef="displayedColumns_ModalTabla03"></tr>
                                <tr mat-row *matRowDef="let row; columns: displayedColumns_ModalTabla03"></tr>                    
                            </table>
                            <!-- <div style="text-align: center;border: solid 1px black; width: 100%; height: 270px;" ui-grid="ventaProducto.gridMarca" class="grid" ui-grid-auto-resize >
                            </div> -->
                        </div>
                    </div>
                    <div class="row" style="width: auto; position: relative; padding-top: 15px; justify-content: center; overflow: auto;">
                        <table class="mat-table mat-elevation-z8 m-3" style="width: 75%; border: solid 1px #c5c4c4; border: solid 1px #c5c4c4; text-align: center;">
                            <tr class="mat-header-row">
                                <th class="cellBorder">
                                    <span class="col-xs-2" style="padding-top: 4px !important;  font-size: 17px;  text-align: center; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">{{'reporteVentaProductoTranslate.cantidad' | translate}}</span>
                                </th>
                                <th class="cellBorder">
                                    <span class="col-xs-3" style="padding-top: 4px !important;  font-size: 17px;  border-left: hidden; text-align: center; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">{{'reporteVentaProductoTranslate.total' | translate}}</span>
                                </th>
                                <th class="cellBorder">
                                    <span class="col-xs-2" style="padding-top: 4px !important;  font-size: 17px;  border-left: hidden; text-align: center; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden; width: 150px;">{{'reporteVentaProductoTranslate.comision' | translate}}</span>
                                </th>
                                <th class="cellBorder">
                                    <span class="col-xs-2" style="padding-top: 4px !important;  font-size: 17px;  border-left: hidden; text-align: center; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">{{'producto.costo' | translate}}</span>
                                </th>
                                <th class="cellBorder">
                                    <span class="col-xs-3" style="padding-top: 4px !important;  font-size: 17px;  border-left: hidden; text-align: center; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">{{'reporteVentaProductoTranslate.utilidad' | translate}}</span>
                                </th>
                            </tr>
        
                            <tr class="mat-row">
                                <td class="cellBorder"> 
                                    <span class="col-xs-2" style="padding-top: 4px !important;  font-size: 17px;  border-top: hidden; text-align: right; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">{{ventaProducto.marcaModalCantidad}}</span>
                                </td>
                                <td class="cellBorder">
                                    <span class="col-xs-3" style="padding-top: 4px !important;  font-size: 17px;  border-top: hidden; border-left: hidden; text-align: right; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">$ {{ventaProducto.marcaModalTotal}}</span>
                                </td>
                                <td class="cellBorder">
                                    <span class="col-xs-2" style="padding-top: 4px !important;  font-size: 17px;  border-top: hidden; border-left: hidden; text-align: right; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">$ {{ventaProducto.marcaModalComisionTotal}}</span>
                                </td>
                                <td class="cellBorder">
                                    <span class="col-xs-2" style="padding-top: 4px !important;  font-size: 17px;  border-top: hidden; border-left: hidden; text-align: right; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">$ {{ventaProducto.marcaModalCosto}}</span>
                                </td>
                                <td class="cellBorder">
                                    <span class="col-xs-3" style="padding-top: 4px !important;  font-size: 17px;  border-top: hidden; border-left: hidden; text-align: right; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">$ {{ventaProducto.marcaModalUtilidadTotal}}</span>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal-content"  id="modalShampooAux" style="margin: 0 auto; font-weight: 400; margin-top: -1px;" *ngIf="ventaProducto.abierto == 4">
            <div class="modal-header">
                <div class="col-lg-12" style="width: 98%;">
                    <span style="display: flex; justify-content: center;" class="puntos">{{'reporteVentaProductoTranslate.productoM' | translate}}: {{ventaProducto.dataProductoModal[0].producto}}</span>
                    <span style="display: flex; justify-content: center;">{{fechaCompleta}}</span>
                    <mat-icon class="iconosBookipp" svgIcon="iconCruzCirculo" (click)="ventaProducto_cerrarModalVarios()" style="cursor: pointer; float: right; margin-top: -30px;"></mat-icon>
                </div>
            </div>
            <div class="modal-content" style="margin: 0 auto; font-weight: 400; margin-top: -1px;">
                <div class="modal-body" >
                    <div class="row">
                        <div class="col-xs-2" style="float: right; cursor: pointer; height: 50px;" >
                            <span (click)="exportToCSV(6)" style="color: #337dc0; float: right;">
                                <mat-icon class="iconosBookipp" svgIcon="iconCsv" style="cursor: pointer; font-size: 30px !important; z-index: 1042; height: 50px;padding-top: 4px;"></mat-icon>
                            </span>
                            <span (click)="exportToExcel(6)" style="color: #337dc0; float: right;">
                                <mat-icon class="iconosBookipp" svgIcon="iconExcel" style="cursor: pointer; font-size: 30px !important; z-index: 1042; height: 50px;padding-top: 4px;"></mat-icon>
                            </span>
                        </div>
                    </div>
                    <div class="row" style="width: auto; position: relative; padding-top: 5px; justify-content: center;">
                        <div class="col-md-12 divContainerTableSizeLg" id="Div4">
                            <table mat-table id="modalTabla04" matSort #matSort06="matSort" [dataSource]="dataSourceProductoModal" class="" style="width: calc(100% - 15px);">
                                <ng-container matColumnDef="marca">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                        {{'reporteVentaProductoTranslate.marca'| translate}}
                                    </th>
                                    <td mat-cell *matCellDef="let element" style="text-align: center;">
                                        <label> {{element.marca}} </label>
                                    </td>
                                </ng-container>
            
                                <ng-container matColumnDef="producto">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                        {{'reporteVentaProductoTranslate.producto'| translate}}
                                    </th>
                                    <td mat-cell *matCellDef="let element" style="text-align: center;">
                                        <label> {{element.producto}} </label>
                                    </td>
                                </ng-container>

                                <ng-container matColumnDef="fecha">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                        {{'reporteVentaProductoTranslate.fecha'| translate}}
                                    </th>
                                    <td mat-cell *matCellDef="let element" style="text-align: center;">
                                        <label> {{element.fecha | date:'dd/MM/yyyy'}} </label>
                                    </td>
                                </ng-container>

                                <ng-container matColumnDef="cliente">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                        {{'reporteVentaProductoTranslate.cliente'| translate}}
                                    </th>
                                    <td mat-cell *matCellDef="let element" style="text-align: center;">
                                        <label> {{element.cliente}} </label>
                                    </td>
                                </ng-container>

                                <ng-container matColumnDef="vendedor">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                        {{'reporteVentaProductoTranslate.vendedor'| translate}}
                                    </th>
                                    <td mat-cell *matCellDef="let element" style="text-align: center;">
                                        <label> {{element.vendedor}} </label>
                                    </td>
                                </ng-container>
            
                                <ng-container matColumnDef="cantidad">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                        {{'reporteVentaProductoTranslate.cantidad'| translate}}
                                    </th>
                                    <td mat-cell *matCellDef="let element" style="text-align: center;">
                                        <label> {{element.cantidad}} </label>
                                    </td>
                                </ng-container>
            
                                <ng-container matColumnDef="ventaTotal">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 135px;" class="tablesRowsSize">
                                        {{'reporteVentaProductoTranslate.total'| translate}}
                                    </th>
                                    <td mat-cell *matCellDef="let element" style="text-align: center;"> 
                                        {{element.ventaTotal| currency}} 
                                    </td>
                                </ng-container>

                                <ng-container matColumnDef="totalAbono">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                        Total Abono
                                    </th>
                                    <td mat-cell *matCellDef="let element" style="text-align: center;">
                                        <label> {{element.totalAbono | currency}} </label>
                                    </td>
                                </ng-container>

                                <ng-container matColumnDef="comision">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                        {{'reporteVentaProductoTranslate.comision'| translate}}
                                    </th>
                                    <td mat-cell *matCellDef="let element" style="text-align: center;">
                                        <label> {{element.comision| currency}} </label>
                                    </td>
                                </ng-container>

                                <ng-container matColumnDef="costo">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                        {{'producto.costo' | translate}}
                                    </th>
                                    <td mat-cell *matCellDef="let element" style="text-align: center;">
                                        <label> {{element.costo == '-'? '-' : element.costo | currency}} </label>
                                    </td>
                                </ng-container>
            
                                <ng-container matColumnDef="utilidad">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                        {{'reporteVentaProductoTranslate.utilidad'| translate}}
                                    </th>
                                    <td mat-cell *matCellDef="let element" style="text-align: center;">
                                        <label> {{element.utilidad | currency}} </label>
                                    </td>
                                </ng-container>

                                <tr mat-header-row *matHeaderRowDef="displayedColumns_ModalTabla04"></tr>
                                <tr mat-row *matRowDef="let row; columns: displayedColumns_ModalTabla04"></tr>                    
                            </table>
                            <!-- <div style="text-align: center;border: solid 1px black; width: 100%; height: 270px;" ui-grid="ventaProducto.gridProductoModal" class="grid" ui-grid-auto-resize >
                            </div> -->
                        </div>
                    </div>
                    <div class="row" style="width: auto; position: relative; padding-top: 15px; justify-content: center; overflow: auto;">
                        <table class="mat-table mat-elevation-z8 m-3" style="width: 75%; border: solid 1px #c5c4c4; border: solid 1px #c5c4c4; text-align: center;">
                            <tr class="mat-header-row">
                                <th class="cellBorder">
                                    <span class="col-xs-2" style="padding-top: 4px !important;font-size: 17px;  text-align: center; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">{{'reporteVentaProductoTranslate.cantidad' | translate}}</span>
                                </th>
                                <th class="cellBorder">
                                    <span class="col-xs-3" style="padding-top: 4px !important;font-size: 17px;  border-left: hidden; text-align: center; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">{{'reporteVentaProductoTranslate.total' | translate}}</span>
                                </th>
                                <th class="cellBorder">
                                    <span class="col-xs-2" style="padding-top: 4px !important;font-size: 17px;  border-left: hidden; text-align: center; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">{{'reporteVentaProductoTranslate.comision' | translate}}</span>
                                </th>
                                <th class="cellBorder">
                                    <span class="col-xs-2" style="padding-top: 4px !important;font-size: 17px;  border-left: hidden; text-align: center; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">{{'producto.costo' | translate}}</span>
                                </th>
                                <th class="cellBorder">
                                    <span class="col-xs-3" style="padding-top: 4px !important;font-size: 17px;  border-left: hidden; text-align: center; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">{{'reporteVentaProductoTranslate.utilidad' | translate}}</span>
                                </th>
                            </tr>
        
                            <tr class="mat-row">
                                <td class="cellBorder"> 
                                    <span class="col-xs-2" style="padding-top: 4px !important;font-size: 17px;  border-top: hidden; text-align: right; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">{{ventaProducto.productoModalCantidad}}</span>
                                </td>
                                <td class="cellBorder">
                                    <span class="col-xs-3" style="padding-top: 4px !important;font-size: 17px;  border-top: hidden; border-left: hidden; text-align: right; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">$ {{ventaProducto.productoModalTotal}}</span>
                                </td>
                                <td class="cellBorder">
                                    <span class="col-xs-2" style="padding-top: 4px !important;font-size: 17px;  border-top: hidden; border-left: hidden; text-align: right; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">$ {{ventaProducto.productoModalComisionTotal}}</span>
                                </td>
                                <td class="cellBorder">
                                    <span class="col-xs-2" style="padding-top: 4px !important;font-size: 17px;  border-top: hidden; border-left: hidden; text-align: right; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">$ {{ventaProducto.productoModalCsoto}}</span>
                                </td>
                                <td class="cellBorder">
                                    <span class="col-xs-3" style="padding-top: 4px !important;font-size: 17px;  border-top: hidden; border-left: hidden; text-align: right; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">$ {{ventaProducto.productoModalUtilidadTotal}}</span>
                                </td>
                            </tr>
                        </table>
                        <div class="col-md-12" style="height: 30px;">
                            <div class="col-xs-1"></div>
                            <div class="col-xs-10">

                            </div>
                            <div class="col-xs-1"></div>
                        </div>
                        <div class="col-md-12" style="height: 30px;">
                            <div class="col-xs-1"></div>
                            <div class="col-xs-10">
                            </div>
                            <div class="col-xs-1"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal-content"  id="modalDescuentosAux" style="margin: 0 auto; font-weight: 400; margin-top: -1px; min-width: 350px;" *ngIf="ventaProducto.abierto == 5">
            <div class="modal-header">
                <div class="col-lg-12" style="width: 98%;">
                    <span style="display: flex; justify-content: center;">Descuentos</span>
                    <span style="display: flex; justify-content: center;">{{fechaCompleta}}</span>
                    <mat-icon class="iconosBookipp" svgIcon="iconCruzCirculo" (click)="ventaProducto_cerrarModalVarios()" style="cursor: pointer; float: right; margin-top: -30px;"></mat-icon>
                </div>
            </div>
            <div class="modal-content" style="margin: 0 auto; font-weight: 400; margin-top: -1px;">
                <div class="modal-body" [hidden]="ventaProducto.dataDescuentos.length == 0" >
                    <div class="row">
                        <div class="col-xs-2" style="float: right; cursor: pointer; height: 50px;" >
                            <span (click)="exportToCSV(8)" style="color: #337dc0; float: right;">
                                <mat-icon class="iconosBookipp" svgIcon="iconCsv" style="cursor: pointer; font-size: 30px !important; z-index: 1042; height: 50px;padding-top: 4px;"></mat-icon>
                            </span>
                            <span (click)="exportToExcel(8)" style="color: #337dc0; float: right;">
                                <mat-icon class="iconosBookipp" svgIcon="iconExcel" style="cursor: pointer; font-size: 30px !important; z-index: 1042; height: 50px;padding-top: 4px;"></mat-icon>
                            </span>
                        </div>
                    </div>
                    <div class="row" style="width: auto; position: relative; padding-top: 5px; justify-content: center;">
                        <div class="col-md-12 divContainerTableSizeLg" id="Div6">
                            <table mat-table id="modalTabla05" matSort #matSort07="matSort" [dataSource]="dataSourceDescuentos" class="" style="width: calc(100% - 15px); display: block;">
                                <ng-container matColumnDef="folioServicio">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                        {{'reporteVentaProductoTranslate.folio'| translate}}
                                    </th>
                                    <td mat-cell *matCellDef="let element" style="text-align: center;">
                                        <label> {{element.folioServicio}} </label>
                                    </td>
                                </ng-container>
            
                                <ng-container matColumnDef="fechaCita">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                        {{'reporteVentaProductoTranslate.fecha'| translate}}
                                    </th>
                                    <td mat-cell *matCellDef="let element" style="text-align: center;">
                                        <label> {{element.fechaCita | date:'dd/MM/yyyy'}} </label>
                                    </td>
                                </ng-container>

                                <ng-container matColumnDef="Personal">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                        {{'reporteVentaProductoTranslate.personal'| translate}}
                                    </th>
                                    <td mat-cell *matCellDef="let element" style="text-align: center;">
                                        <label> {{element.Personal}} </label>
                                    </td>
                                </ng-container>

                                <ng-container matColumnDef="cliente">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                        {{'reporteVentaProductoTranslate.cliente'| translate}}
                                    </th>
                                    <td mat-cell *matCellDef="let element" style="text-align: center;">
                                        <label> {{element.cliente}} </label>
                                    </td>
                                </ng-container>

                                <ng-container matColumnDef="Servicio">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                        {{'reporteVentaProductoTranslate.servicio'| translate}}
                                    </th>
                                    <td mat-cell *matCellDef="let element" style="text-align: center;">
                                        <label> {{element.Servicio}} </label>
                                    </td>
                                </ng-container>
            
                                <ng-container matColumnDef="Total">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                        {{'reporteVentaProductoTranslate.total'| translate}}
                                    </th>
                                    <td mat-cell *matCellDef="let element" style="text-align: center;">
                                        <label> {{element.Total  | currency}} </label>
                                    </td>
                                </ng-container>

                                <ng-container matColumnDef="totalAbono">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                        Total Abono
                                    </th>
                                    <td mat-cell *matCellDef="let element" style="text-align: center;">
                                        <label> {{element.totalAbono | currency}} </label>
                                    </td>
                                </ng-container>

                                <ng-container matColumnDef="promocion">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 135px;" class="tablesRowsSize">
                                        {{'reporteVentaProductoTranslate.promocion'| translate}}
                                    </th>
                                    <td mat-cell *matCellDef="let element" style="text-align: center;"> 
                                        {{element.promocion}} 
                                    </td>
                                </ng-container>

                                <ng-container matColumnDef="descPromocion">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                        {{'reporteVentaProductoTranslate.montoP'| translate}}
                                    </th>
                                    <td mat-cell *matCellDef="let element" style="text-align: center;">
                                        <label> {{element.descPromocion | currency}} </label>
                                    </td>
                                </ng-container>

                                <ng-container matColumnDef="descManual">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                        {{'reporteVentaProductoTranslate.montoD'| translate}}
                                    </th>
                                    <td mat-cell *matCellDef="let element" style="text-align: center;">
                                        <label> {{element.descManual | currency}} </label>
                                    </td>
                                </ng-container>
            
                                <ng-container matColumnDef="comision">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                        {{'reporteVentaProductoTranslate.comision'| translate}}
                                    </th>
                                    <td mat-cell *matCellDef="let element" style="text-align: center;">
                                        <label> {{element.comision| currency}} </label>
                                    </td>
                                </ng-container>

                                <ng-container matColumnDef="utilidad">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                        {{'reporteVentaProductoTranslate.utilidad'| translate}}
                                    </th>
                                    <td mat-cell *matCellDef="let element" style="text-align: center;">
                                        <label> {{element.utilidad | currency}} </label>
                                    </td>
                                </ng-container>

                                <tr mat-header-row *matHeaderRowDef="displayedColumns_ModalTabla05"></tr>
                                <tr mat-row *matRowDef="let row; columns: displayedColumns_ModalTabla05"></tr>                    
                            </table>
                            <!-- <div style="text-align: center;border: solid 1px black; width: 100%; height: 270px;" ui-grid="ventaProducto.gridDescuentos" class="grid" ui-grid-auto-resize >
                            </div> -->
                        </div>
                    </div>
                    <div class="row" style="width: auto; position: relative; padding-top: 15px; justify-content: center; overflow: auto;">
                        <table class="mat-table mat-elevation-z8 m-3" style="width: 80%; position: relative; padding-top: 15px; justify-content: center;">
                            <tr class="mat-header-row" style="text-align: center;">
                                <th class="cellBorder">
                                    <span class="col-xs-2" style="padding-top: 4px !important; font-size: 17px; text-align: center; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">{{'reporteVentaProductoTranslate.totalSD' | translate}}</span>
                                </th>
                                <th class="cellBorder">
                                    <span class="col-xs-2" style="padding-top: 4px !important; font-size: 17px; border-left: hidden; text-align: center; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">{{'reporteVentaProductoTranslate.montoP' | translate}}</span>
                                </th>
                                <th class="cellBorder">
                                    <span class="col-xs-2" style="padding-top: 4px !important; font-size: 17px; border-left: hidden; text-align: center; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">{{'reporteVentaProductoTranslate.montoD' | translate}}</span>
                                </th>
                                <th class="cellBorder">
                                    <span class="col-xs-2" style="padding-top: 4px !important; font-size: 17px; border-left: hidden; text-align: center; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">{{'reporteVentaProductoTranslate.totalP' | translate}}</span>
                                </th>
                                <th class="cellBorder">
                                    <span class="col-xs-2" style="padding-top: 4px !important; font-size: 17px; border-left: hidden; text-align: center; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">{{'reporteVentaProductoTranslate.comision' | translate}}</span>
                                </th>
                                <th class="cellBorder">
                                    <span class="col-xs-2" style="padding-top: 4px !important; font-size: 17px; border-left: hidden; text-align: center; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">{{'reporteVentaProductoTranslate.utilidad' | translate}}</span>
                                </th>
                            </tr>
        
                            <tr class="mat-row" style="text-align: right;">
                                <td class="cellBorder" style="padding-right: 1rem;"> 
                                    <span class="col-xs-2" style="padding-top: 4px !important; font-size: 17px; border-top: hidden; text-align: right; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">{{ventaProducto.descuentosModalTotal | currency}}</span>
                                </td>
                                <td class="cellBorder" style="padding-right: 1rem;">
                                    <span class="col-xs-2" style="padding-top: 4px !important; font-size: 17px; border-top: hidden; border-left: hidden; text-align: right; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">{{ventaProducto.descuentosModalMontoP | currency}}</span>
                                </td>
                                <td class="cellBorder" style="padding-right: 1rem;">
                                    <span class="col-xs-2" style="padding-top: 4px !important; font-size: 17px; border-top: hidden; border-left: hidden; text-align: right; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">{{ventaProducto.descuentosModalMontoD | currency}}</span>
                                </td>
                                <td class="cellBorder" style="padding-right: 1rem;">
                                    <span class="col-xs-2" style="padding-top: 4px !important; font-size: 17px; border-top: hidden; border-left: hidden; text-align: right; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">{{ventaProducto.descuentosModalTotalP | currency}}</span>
                                </td>
                                <td class="cellBorder" style="padding-right: 1rem;">
                                    <span class="col-xs-2" style="padding-top: 4px !important; font-size: 17px; border-top: hidden; border-left: hidden; text-align: right; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">{{ventaProducto.descuentosModalComision | currency}}</span>
                                </td>
                                <td class="cellBorder" style="padding-right: 1rem;">
                                    <span class="col-xs-2" style="padding-top: 4px !important; font-size: 17px; border-top: hidden; border-left: hidden; text-align: right; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">{{ventaProducto.descuentosModalUtilidad | currency}}</span>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="modal-body" *ngIf="ventaProducto.dataDescuentos.length==0" style="text-align: center;">
                    <span style="font-style: italic; font-size: large; margin-top: 30px; text-align: center;">{{'reporteVentaProductoTranslate.noReg' | translate}}</span>
                </div>
            </div>
        </div>

        <!-- Modal de Cuentas por Cobrar -->
         <div class="modal-content"  id="modalCuentasXCobrarAux" style="margin: 0 auto; font-weight: 400; margin-top: -1px;" *ngIf="ventaProducto.abierto == 6">
            <div class="modal-content" style="margin: 0 auto; font-weight: 400; margin-top: -1px;">
                <div class="modal-header">
                    <div class="col-lg-12" style="width: 98%;">
                        <span style="display: flex; justify-content: center;">Cuentas por Cobrar</span>
                        <span style="display: flex; justify-content: center;">{{fechaCompleta}}</span>
                        <mat-icon class="iconosBookipp" svgIcon="iconCruzCirculo" (click)="ventaProducto_cerrarModalVarios()" style="cursor: pointer; float: right; margin-top: -30px;"></mat-icon>
                    </div>
                </div>
                <div class="modal-body" [hidden]="ventaProducto.dataVentasGrid.length == 0" >
                    <div class="row">
                        <div class="col-xs-2" style="float: right; cursor: pointer; height: 50px;" >
                            <span (click)="exportToCSV(10)" style="color: #337dc0; float: right;">
                                <mat-icon class="iconosBookipp" svgIcon="iconCsv" style="cursor: pointer; font-size: 30px !important; z-index: 1042; height: 50px;padding-top: 4px;"></mat-icon>
                            </span>
                            <span (click)="exportToExcel(10)" style="color: #337dc0; float: right;">
                                <mat-icon class="iconosBookipp" svgIcon="iconExcel" style="cursor: pointer; font-size: 30px !important; z-index: 1042; height: 50px;padding-top: 4px;"></mat-icon>
                            </span>
                        </div>
                    </div>
                    <div class="row" style="width: auto; position: relative; padding-top: 5px; justify-content: center;">
                        <div class="col-md-12 divContainerTableSizeLg" id="Div8">
                            <table mat-table id="modalTabla06" matSort #matSort08="matSort" [dataSource]="dataSourceCuentasxCobrar" class="" style="width: calc(100% - 15px);">
                                <ng-container matColumnDef="cliente">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                        Cliente
                                    </th>
                                    <td mat-cell *matCellDef="let element" style="text-align: center;">
                                        <label> {{element.cliente}} </label>
                                    </td>
                                </ng-container>
            
                                <ng-container matColumnDef="telefono">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                        Telefono
                                    </th>
                                    <td mat-cell *matCellDef="let element" style="text-align: center;">
                                        <label> {{element.telefono}} </label>
                                    </td>
                                </ng-container>

                                <ng-container matColumnDef="saldopendiente">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                        Saldo Pendiente
                                    </th>
                                    <td mat-cell *matCellDef="let element" style="text-align: center;">
                                        <label> {{element.saldopendiente | currency}} </label>
                                    </td>
                                </ng-container>

                                <ng-container matColumnDef="folio_caja_original">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                        Folio Venta
                                    </th>
                                    <td mat-cell *matCellDef="let element" style="text-align: center;">
                                        <label class="labelLink" (click)="_ticketService.caja_movimientos_mostrarTicketFolioVenta(element.folio_caja_original)"> {{element.folio_caja}} </label>
                                    </td>
                                </ng-container>

                                <ng-container matColumnDef="fecha">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                        Fecha
                                    </th>
                                    <td mat-cell *matCellDef="let element" style="text-align: center;">
                                        <label> {{element.fecha | date:'dd/MM/yyyy'}} </label>
                                    </td>
                                </ng-container>
            
                                <ng-container matColumnDef="usuario">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                        Usuario
                                    </th>
                                    <td mat-cell *matCellDef="let element" style="text-align: center;">
                                        <label> {{element.usuario}} </label>
                                    </td>
                                </ng-container>

                                <tr mat-header-row *matHeaderRowDef="displayedColumns_ModalTabla06"></tr>
                                <tr mat-row *matRowDef="let row; columns: displayedColumns_ModalTabla06"></tr>                    
                            </table>
                            <!-- <div style="text-align: center;border: solid 1px black; width: 100%; height: 270px;" ui-grid="ventaProducto.gridCuentasCobrar" class="grid" ui-grid-auto-resize >
                            </div> -->
                        </div>
                    </div>
                </div>
                <div class="modal-body" *ngIf="ventaProducto.dataVentasGrid.length==0" style="text-align: center;">
                    <span style="font-style: italic; font-size: large; margin-top: 30px; text-align: center;">{{'reporteVentaProductoTranslate.noReg' | translate}}</span>
                </div>
            </div>
        </div>
    </div>
</div>

<!--MODAL COMISIONES PERSONAL-->
<div id="modal-Personal" tabindex="-1" role="dialog" aria-hidden="true" class="modal fade modal-Personal" >
    <div class="modal-dialog modalesSizeLg" style="font-weight: 400;">
        <div class="modal-content" style="margin: 0 auto; font-weight: 400; margin-top: -1px;">
            <div class="modal-header">
                <div class="col-lg-12" style="width: 98%;">
                    <span style="display: flex; justify-content: center;" class="puntos">{{'reporteVentaProductoTranslate.detallesVM' | translate}}: {{ventaProducto.personalNombre}}</span>
                    <span style="display: flex; justify-content: center;">{{fechaCompleta}}</span>
                    <mat-icon class="iconosBookipp" svgIcon="iconCruzCirculo" (click)="ventaProducto_cerrarModalPersonal()" style="cursor: pointer; float: right; margin-top: -30px;"></mat-icon>
                </div>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-xs-2" style="float: right; cursor: pointer; height: 50px;" >
                        <span (click)="exportToCSV(7)" style="color: #337dc0; float: right;">
                            <mat-icon class="iconosBookipp" svgIcon="iconCsv" style="cursor: pointer; font-size: 30px !important; z-index: 1042; height: 50px;padding-top: 4px;"></mat-icon>
                        </span>
                        <span (click)="exportToExcel(7)" style="color: #337dc0; float: right;">
                            <mat-icon class="iconosBookipp" svgIcon="iconExcel" style="cursor: pointer; font-size: 30px !important; z-index: 1042; height: 50px;padding-top: 4px;"></mat-icon>
                        </span>
                    </div>
                </div>
                <div class="row" style="width: auto; position: relative; padding-top: 5px; justify-content: center;">
                    <div class="col-md-12 divContainerTableSizeLg" id="Div7">
                        <table mat-table id="modalTabla07" matSort #matSort09="matSort" [dataSource]="dataSourceComisionesPersonal" class="" style="width: calc(100% - 15px);">
                            <ng-container matColumnDef="marca">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                    {{'reporteVentaProductoTranslate.marca'| translate}}
                                </th>
                                <td mat-cell *matCellDef="let element" style="text-align: center;">
                                    <label> {{element.marca}} </label>
                                </td>
                            </ng-container>
        
                            <ng-container matColumnDef="producto">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                    {{'reporteVentaProductoTranslate.producto'| translate}}
                                </th>
                                <td mat-cell *matCellDef="let element" style="text-align: center;">
                                    <label> {{element.producto}} </label>
                                </td>
                            </ng-container>

                            <ng-container matColumnDef="servicio">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                    {{'reporteVentaProductoTranslate.servicio'| translate}}
                                </th>
                                <td mat-cell *matCellDef="let element" style="text-align: center;">
                                    <label> {{element.servicio}} </label>
                                </td>
                            </ng-container>

                            <ng-container matColumnDef="presentacion">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                    {{'reporteVentaProductoTranslate.presentacion'| translate}}
                                </th>
                                <td mat-cell *matCellDef="let element" style="text-align: center;">
                                    <label> {{element.presentacion}} </label>
                                </td>
                            </ng-container>

                            <ng-container matColumnDef="fecha">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                    {{'reporteVentaProductoTranslate.fecha'| translate}}
                                </th>
                                <td mat-cell *matCellDef="let element" style="text-align: center;">
                                    <label> {{element.fecha | date:'dd/MM/yyyy'}} </label>
                                </td>
                            </ng-container>

                            <ng-container matColumnDef="cliente">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                    {{'reporteVentaProductoTranslate.cliente'| translate}}
                                </th>
                                <td mat-cell *matCellDef="let element" style="text-align: center;">
                                    <label> {{element.cliente}} </label>
                                </td>
                            </ng-container>
        
                            <ng-container matColumnDef="cantidad">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                    {{'reporteVentaProductoTranslate.unidades'| translate}}
                                </th>
                                <td mat-cell *matCellDef="let element" style="text-align: center;">
                                    <label> {{element.cantidad}} </label>
                                </td>
                            </ng-container>

                            <ng-container matColumnDef="ventaTotal">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                    {{'reporteVentaProductoTranslate.total'| translate}}
                                </th>
                                <td mat-cell *matCellDef="let element" style="text-align: center;">
                                    <label> {{element.ventaTotal| currency}} </label>
                                </td>
                            </ng-container>

                            <ng-container matColumnDef="totalAbono">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                    Total Abono
                                </th>
                                <td mat-cell *matCellDef="let element" style="text-align: center;">
                                    <label> {{element.totalAbono | currency}} </label>
                                </td>
                            </ng-container>
        
                            <ng-container matColumnDef="comision">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                    {{'reporteVentaProductoTranslate.comision'| translate}}
                                </th>
                                <td mat-cell *matCellDef="let element" style="text-align: center;">
                                    <label> {{element.comision| currency}} </label>
                                </td>
                            </ng-container>

                            <ng-container matColumnDef="utilidad">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                    {{'reporteVentaProductoTranslate.utilidad'| translate}}
                                </th>
                                <td mat-cell *matCellDef="let element" style="text-align: center;">
                                    <label> {{element.utilidad | currency}} </label>
                                </td>
                            </ng-container>

                            <tr mat-header-row *matHeaderRowDef="displayedColumns_ModalTabla07"></tr>
                            <tr mat-row *matRowDef="let row; columns: displayedColumns_ModalTabla07"></tr>                    
                        </table>
                        <!-- <div style="text-align: center;border: solid 1px black; width: 100%; height: 270px;" ui-grid="ventaProducto.gridComisionesPersonal" class="grid" ui-grid-auto-resize>
                        </div> -->
                    </div>
                </div>
                <div class="row" style="width: auto; position: relative; padding-top: 15px; justify-content: center; overflow: auto;">
                    <table class="mat-table mat-elevation-z8 m-3" style="width: 75%; border: solid 1px #c5c4c4; border: solid 1px #c5c4c4; text-align: center;">
                        <tr class="mat-header-row">
                            <th class="cellBorder">
                                <span class="col-xs-3" style="padding-top: 4px !important;font-size: 17px; text-align: center; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">{{'reporteVentaProductoTranslate.cantidad' | translate}}</span>
                            </th>
                            <th class="cellBorder">
                                <span class="col-xs-3" style="padding-top: 4px !important;font-size: 17px; border-left: hidden; text-align: center; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">{{'reporteVentaProductoTranslate.total' | translate}}</span>
                            </th>
                            <th class="cellBorder">
                                <span class="col-xs-3" style="padding-top: 4px !important;font-size: 17px; border-left: hidden; text-align: center; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">{{'reporteVentaProductoTranslate.comision' | translate}}</span>
                            </th>
                            <th class="cellBorder">
                                <span class="col-xs-3" style="padding-top: 4px !important;font-size: 17px; border-left: hidden; text-align: center; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">{{'reporteVentaProductoTranslate.utilidad' | translate}}</span>
                            </th>
                        </tr>
    
                        <tr class="mat-row">
                            <td class="cellBorder"> 
                                <span class="col-xs-3" style="padding-top: 4px !important;font-size: 17px; border-top: hidden; text-align: right; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">{{ventaProducto.personalModalCantidad}}</span>
                            </td>
                            <td class="cellBorder">
                                <span class="col-xs-3" style="padding-top: 4px !important;font-size: 17px; border-top: hidden; border-left: hidden; text-align: right; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">{{ventaProducto.personalModalTotal | currency}}</span>
                            </td>
                            <td class="cellBorder">
                                <span class="col-xs-3" style="padding-top: 4px !important;font-size: 17px; border-top: hidden; border-left: hidden; text-align: right; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">{{ventaProducto.personalModalComisionTotal | currency}}</span>
                            </td>
                            <td class="cellBorder">
                                <span class="col-xs-3" style="padding-top: 4px !important;font-size: 17px; border-top: hidden; border-left: hidden; text-align: right; white-space: nowrap; text-overflow: ellipsis; min-width: 10%; overflow: hidden;">{{ventaProducto.personalModalUtilidadTotal | currency}}</span>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

<!--MODAL ALERT ERRORES-->
<div id="modal-Alert" tabindex="-1" role="dialog" aria-hidden="true" class="modal fade modal-Alert">
    <div class="modal-dialog modalesSizeLg">
        <div class="modal-content" style="margin: 0 auto; font-weight: 400; max-width: 800px; min-height: 115px;">
            <div class="modal-body">
            </div>
            
            <div class="modal-footer">
                <div class="col-lg-3">
                    <button type="button" data-bs-dismiss="modal" class="buttonEstiloBlanco" style="height: auto;">
                        {{'reporteVentaProductoTranslate.aceptar' | translate}}
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!--MODAL ALERT ERRORES-->
<div id="modal-noDatos" tabindex="-1" role="dialog" aria-hidden="true" class="modal fade modal-noDatos">
    <div class="modal-dialog modalesSizeLg">
        <div class="modal-content" style="margin: 0 auto; font-weight: 400; max-width: 800px; min-height: 115px;">
            <div class="modal-body">
            </div>
            
            <div class="modal-footer">
                <div class="col-lg-3">
                    <button type="button" data-bs-dismiss="modal" class="buttonEstiloBlanco" style="height: auto;">
                        {{'reporteVentaProductoTranslate.aceptar' | translate}}
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- MODA INFORMACIÓN FACTURA (Movido a ModalesGenerales)-->
<!-- <div id="modalInformacionFactura" aria-hidden="true" class="modal fade modalInformacionFactura" role="dialog" style="z-index: 999999;">
    <div class="modal-dialog" style="margin-top: 120px;">
        <div class="modal-content">
            <div class="modal-body">
            </div>
            
            <div class="modal-footer">
                <button class="btn btn-primary" data-bs-dismiss="modal" type="button">
                    {{'agendaTranslate.aceptar'| translate}}
                </button>
            </div>
        </div>
    </div>
</div> -->

<!-- MODAL CONFIRMAR ELIMINAR -->
<div id="modal-confirmarEliminar" aria-hidden="true" class="modal fade modal-confirmarEliminar" role="dialog" style="z-index: 1042">
    <div class="modal-dialog modalesSizeLg">
        <div class="modal-content">
            <div class="modal-body">
            </div>
            
            <div class="modal-footer">
                <div class="col-lg-3">
                    <button class="buttonEstiloBlanco" data-bs-dismiss="modal" type="button" style="height: auto;">
                        {{'agendaTranslate.no'| translate}}
                    </button>
                </div>
                <div class="col-lg-3">
                    <button class="buttonEstiloBlanco" data-bs-dismiss="modal" (click)="eliminarCita()" type="button" style="height: auto;">
                        {{'agendaTranslate.si'| translate}}
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- MODAL CONFIRMAR ELIMINAR VENTA DIRECTA -->
<div id="modal-confirmarEliminarVentaDirecta" aria-hidden="true" class="modal fade modal-confirmarEliminarVentaDirecta" role="dialog" style="z-index: 1042">
    <div class="modal-dialog modalesSizeLg">
        <div class="modal-content">
            <div class="modal-body">
            </div>
            
            <div class="modal-footer">
                <div class="col-lg-3">
                    <button class="buttonEstiloBlanco" data-bs-dismiss="modal" type="button" style="height: auto;">
                        {{'agendaTranslate.no'| translate}}
                    </button>
                </div>
                <div class="col-lg-3">
                    <button class="buttonEstiloBlanco" data-bs-dismiss="modal" (click)="eliminarVentaProducto()" type="button" style="height: auto;">
                        {{'agendaTranslate.si'| translate}}
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!--MODAL TICKET CITA-->
<div id="ticket-cita" tabindex="-1" role="dialog" aria-hidden="true" class="modal fade ticket-cita">
    <div class="modal-dialog modalesSizeLg">
        <div class="modal-content md-modal" style="margin: 0 auto; font-weight: 400;">
            <div class="modal-header">
                <span>{{'agendaTranslate.reciboCitaMayus'| translate}}</span>
                <mat-icon class="iconosBookipp" svgIcon="iconCruzCirculo" data-bs-dismiss="modal" style="cursor: pointer; float: right; margin-top: 4px; font-size: 16px;"></mat-icon>
            </div>
            <div class="modal-body">
                <div class="recibo-pago" style="border: 1px solid #bcbcbc; margin: 10px 20px 20px 20px; padding: 15px 20px 20px 20px;">
                    <p style="font-size: 16px; font-weight: 500; border-bottom: 1px dashed #bcbcbc; padding-bottom: 10px;">{{'agendaTranslate.reciboPago'| translate}}</p>
                    <div style="display: inline-block; width: 100%; border-bottom: 1px dashed #bcbcbc; padding-bottom: 10px;">
                        <div style="float: left; width: 100%">
                            <label style="width: 25%;">{{'agendaTranslate.cliente'| translate}}</label>
                            <span style="width: 75%">{{ticket.cliente}}</span>
                        </div>
                        <div style="float: left; width: 100%">
                            <label style="width: 25%;">{{'agendaTranslate.folio'| translate}}</label>
                            <span style="width: 75%">{{ticket.folio}}</span>
                        </div>
                        <div style="float: left; width: 100%">
                            <label style="width: 25%;">{{'agendaTranslate.fecha'| translate}}</label>
                            <span style="width: 75%">{{ticket.fecha}}</span>
                        </div>
                        <div style="float: left; width: 100%" [hidden]="ticket.paquetes.length == 0">
                            <label style="width: 26%;">Paquete</label>
                            <span *ngFor="let c of ticket.paquetes" style="overflow: hidden; word-break: keep-all; text-overflow: ellipsis; width: 74%; float: right; margin-bottom: 5px">{{c.pago}} - {{c.descripcion}}</span>
                        </div>
                        <div style="float: left; width: 100%">
                            <label style="width: 26%;">{{'agendaTranslate.cargos'| translate}}</label>
                            <span *ngFor="let c of ticket.cargos" style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis; width: 74%; float: right; margin-bottom: 5px">{{c.pago}} - {{c.descripcion}}</span>
                        </div>
                        <div style="float: left; width: 100%" [hidden]="ticket.productos.length == 0">
                            <label style="width: 26%;">{{'producto.productos'| translate}}</label>
                            <span *ngFor="let p of ticket.productos" style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis; width: 74%; float: right; margin-bottom: 5px">{{p.pago}} - {{p.descripcion}}</span>
                        </div>
                        <div style="float: left; width: 100%" >
                            <label style="width: 26%;">{{'agendaTranslate.descuento'| translate}}</label>
                            <span style="width: 74%; float: right; margin-bottom: 5px"> aqui va ticket.descuento.pago </span>
                        </div>
                        <div style="float: left; width: 100%" [hidden]="!ticket.promocion.length">
                            <label style="width: 26%;">{{'agendaTranslate.promocion'| translate}}</label>
                            <span *ngFor="let p of ticket.promocion" style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis; width: 74%; float: right; margin-bottom: 5px">-{{p.pago * -1}} - {{p.descripcion}}</span>
                        </div>
                        <div style="float: left; width: 100%">
                            <label style="width: 26%;">Propinas</label>
                            <span style="width: 74%; float: right; margin-bottom: 5px"> aqui va ticket.propina.pago </span>
                        </div>
                    </div>
                    <div style="margin-top: 10px;border-bottom: 1px dashed #bcbcbc;height: 27px;">
                        <label style="width: 15%; float: left; text-align: right">{{'agendaTranslate.totalMay'| translate}} </label>
                        <span style="margin-left: 30px">{{ticket.total}}</span>
                    </div>
                    <div style="margin-top: 10px">
                        <label style="width: 50%">{{'pagoTranslate.metodoPago'| translate}}</label>
                    </div>
                    <div *ngFor="let mp of ticket.metodoPago">
                        <label style="width:70%;">{{mp.descripcion}}</label>
                        <span style="width:30%;margin-bottom: 5px">{{mp.pago}}</span>
                    </div>
                </div>
                <div class="recibo-print">
                    <a style="float:left;cursor:pointer;line-height: 2.5; margin-right:10px;" (click)="factura()">{{'agendaTranslate.factura'| translate}}</a>
                        <div style="float:left" class="premium_feature"> 
                            {{'agendaTranslate.premium'| translate}}
                            <div style="background-color: #20c4e6; border-radius: 61px; width: 16px; height: 16px; margin-top: 4px; margin-left: 3px;">
                                <i class="glyphicon glyphicon-lock" style="font-size: 8px; margin-top: 3px;"></i>
                            </div>
                        </div>
                    <a (click)="confirmarEliminar()" style="float: left; cursor: pointer; line-height: 2.5;">Eliminar Cita</a>
                    <a style="float: right; cursor: pointer; line-height: 2.5;" ><i class="fa fa-print"></i>{{'agendaTranslate.imprimir'| translate}}</a> <!-- ng-controller="ctrlImprimirTicket"  Y (click)="control.imprimirTicket()" -->
                </div>
            </div>
        </div>
    </div>
</div>

<!-- MODAL FACTURA -->
<div id="modal-factura" tabindex="-1" role="dialog" aria-hidden="true" class="modal fade modal-factura" style="z-index: 999999;">
    <div class="modal-dialog modalesSizeLg" style="font-weight: 400; min-width: 100px;width: 1255px;height: 485px">
        <div class="modal-header">
            <span>Generar Factura</span>
            <mat-icon class="iconosBookipp" svgIcon="iconCruzCirculo" (click)="cerrarModalFactura()" style="cursor: pointer; float: right; margin-top: 5px;"></mat-icon>
        </div>
        <div class="modal-content" style="margin: 0 auto; font-weight: 400; margin-top: -1px;">
            <div class="modal-body" style="width: 1253px;padding-top: 0px !important;">
            <div id="datosGenerales" *ngIf="moduloFactura.conceptos">
                <div class="row" style="margin: 0px !important;">
                    <h3>Emisor</h3>
                </div>
                <hr style="background-color: gray; height: 1px; margin: 0;" />
                <div class="row" style="padding-top: 10px;">                        
                    <div class="col-md-6">
                            <label class="control-label">
                            {{'usuarioTranslate.sucursal' | translate}} *
                        </label>
                        <div>
                            <ng-select id="sucursalInput" style="width: 100%;" [multiple]="true" appendTo="#modal-factura" [searchable]="true"
                                [(ngModel)]="moduloFactura.facturacion.emisorSucursal" 
                                (ngModelChange)="actualizarSucursal(moduloFactura.facturacion.emisorSucursal)" [clearable]="true"
                                placeholder="{{'usuarioTranslate.placeholderSucursal' | translate}}"
                                [items]="moduloFactura.dataSucursales" bindLabel="nombre" bindValue="idSucursal">
                            </ng-select>
                        </div>
                        <label style="height: 20px"></label>
                    </div>
                    <div class="col-md-6">
                            <label class="control-label">
                            Regimen Fiscal *
                        </label>
                        <ng-select id="regimenFiscalInput" style="width: 100%;" [multiple]="true" appendTo="#modal-factura" [searchable]="true"
                            [(ngModel)]="moduloFactura.facturacion.emisorRegimenFiscal"  [clearable]="true"
                            placeholder="Regimen Fiscal"
                            [items]="moduloFactura.dataRegimen" bindLabel="descripcion" bindValue="idRegimenFiscal">
                        </ng-select>
                        <label style="height: 20px"></label>
                    </div>
                </div>
                <div class="row" style="margin: 0px !important;">
                    <h3>Receptor</h3>
                </div>
                <hr style="background-color: gray; height: 1px; margin: 0;" />
                <div class="row" style="padding-top: 10px;">                                   
                    <div class="col-md-6">
                        <label class="control-label">
                            {{'informacionFiscalClienteTranslate.nombre' | translate}}
                        </label>
                        <input id="nombreInput" type="text" maxlength="250" class="form-control" [(ngModel)]="moduloFactura.facturacion.receptorNombre" style="width: 100%;">
                        <label id="errornombreInput" class="control-label" style="height: 20px; color: red;"></label>                            
                    </div>
                    <div class="col-md-6">
                            <label class="control-label">
                            {{'informacionFiscalSucursalTranslate.rfc' | translate}} *
                        </label>
                        <input id="rfcInput" type="text" maxlength="250" class="form-control" [(ngModel)]="moduloFactura.facturacion.receptorRFC" style="width: 100%;">
                        <label id="errorRFCInput" class="control-label" style="height: 20px; color: red;"></label>   
                    </div>                        
                </div>
                <div class="row" style="margin: 0px !important;">
                    <h3>Datos Generales</h3>
                </div>
                <hr style="background-color: gray; height: 1px; margin: 0;" />
                <div class="row" style="padding-top: 10px;">     
                    <div class="col-md-6">
                        <label class="control-label">
                            {{'configuracionSucursalTranslate.formasDePago'| translate}} *
                        </label>
                        <ng-select id="formasDePagoSelect" style="width: 100%;" [multiple]="true" appendTo="#modal-factura" [searchable]="true"
                            [(ngModel)]="moduloFactura.facturacion.receptorFormaPago" [clearable]="true"
                            placeholder="Selecciona la forma de pago"
                            [items]="moduloFactura.dataformasDePago" bindLabel="descripcion" bindValue="idDatosFiscalesFormaPago">
                        </ng-select>
                        <label style="height:20px"></label>
                    </div>
                    <div class="col-md-6">
                        <label class="control-label">
                            {{'configuracionSucursalTranslate.metodosDePago'| translate}} *
                        </label>
                        <ng-select id="metodosDePagoSelect" style="width: 100%;" [multiple]="true" appendTo="#modal-factura" [searchable]="true"
                            [(ngModel)]="moduloFactura.facturacion.receptorMetodoPago" [clearable]="true"
                            placeholder="Selecciona el metodo de pago"
                            [items]="moduloFactura.datametodosDePago" bindLabel="descripcion" bindValue="idDatosFiscalesMetodoPago">
                        </ng-select>
                        <label style="height:20px"></label>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <label class="control-label">
                            Serie - Folio *
                        </label>
                        <li id="btnNuevo" *ngIf="moduloFactura.sinSeries" class="fa fa-plus-circle" (click)="moduloFactura_nuevaSerie()" style="font-size: 2em; cursor: pointer; color: #78C4A7; margin-left: 8px; margin-top: 3px;"  ></li>
                        <ng-select *ngIf="moduloFactura.dataSerie.length != 0" id="serieFolioInput" style="width: 100%;" [multiple]="true" appendTo="#modal-factura" [searchable]="true"
                            [(ngModel)]="moduloFactura.facturacion.serieyFolioFactura" [clearable]="true"
                            placeholder="Seleccione una serie"
                            [items]="moduloFactura.dataSerie" bindLabel="nombre" bindValue="idSerie">
                        </ng-select>
                        <label style="height: 20px"></label>
                    </div>
                    <div class="col-md-6">
                            <label class="control-label">
                            {{'configuracionSucursalTranslate.usoCFDI' | translate}} *
                        </label>
                        <ng-select id="CFDIInput" style="width: 100%;" [multiple]="true" appendTo="#modal-factura" [searchable]="true"
                            [(ngModel)]="moduloFactura.facturacion.receptorCFDI" [clearable]="true"
                            placeholder="Seleccione un CFDI"
                            [items]="moduloFactura.dataCFDI" bindLabel="descripcion" bindValue="idDatosFiscalesUsoCFDI">
                        </ng-select>
                        <label style="height: 20px"></label>
                    </div>
                </div>
            </div>   
            <div id="conceptos" *ngIf="moduloFactura.datosGenerales">
                <div class="row" style="margin: 0px !important;">
                    <div class="col-md-12">
                        <div class="col-md-8">
                            <h3> Conceptos </h3>
                        </div>
                        <div class="col-md-3" style="margin-top: 20px">
                            <ng-select [disabled]="moduloFactura.facturacion.aplicaIVA" id="ddlIvaGeneral" style="width: 100%;" [multiple]="true" appendTo="#modal-factura" [searchable]="true"
                                [(ngModel)]="moduloFactura.facturacion.ivaGeneral" [clearable]="true"
                                (ngModelChange)="moduloFactura_changeIvaGeneral()"
                                placeholder="Factor IVA"
                                [items]="moduloFactura.dataImpuestoIva" bindLabel="valor" bindValue="valor">
                            </ng-select>
                        </div>
                    </div>
                    
                </div>
                <div class="row" style="margin-top: -20px;">                        
                    <div class="col-md-12">
                        <div id="divFacturar" style="display: inline-block; margin-top: 25px; width: 99.5%;margin-left:3px;" [hidden]="moduloFactura.facturacion.listaFacturar.length">
                            <div style="width: 100%; display: flex;">
                                <div style="min-width: 3%;padding-left: 5px;"> </div>
                                <div style="width: 15%;padding-left: 5px;">Unidad</div>
                                <div style="width: 14%;padding-left: -3px;">Cve. Prod. o Serv.</div>
                                <div style="width: 26%;padding-left: 7px;">Descripcion</div>
                                <div style="width: 7%;padding-left: 8px;">Cantidad</div>
                                <div style="width: 8%;padding-left: 4px;">Valor Unitario</div>
                                <div style="width: 6%;">Importe</div>
                                <div style="width: 7%;padding-left: 10px;"> Aplica IVA </div>
                                <div style="width: 7%;padding-left: 6px;">Importe IVA</div>  
                                <div style="width: 7%;padding-left: 6px;">Total</div>  
                            </div>
                            <div *ngFor="let lf of moduloFactura.facturacion.listaFacturar; index as i;" style="display: flex; width: 100%; margin-bottom: 5px;">      
                                <!-- chekbox facturar -->
                                <div style="width: 3%;">
                                    <input id="{{'seFactura'+ i}}" type="checkbox" class="form-control" [(ngModel)]="lf.seFactura"
                                        cd-true-value="1" cd-false-value="0" 
                                        [disabled]="lf.yaFacturado"
                                        style="font-size: 13px; height: 18px; width: 18px; margin-top: 7px;" content="”body”" ng-change="calcularTotalFactura(i,lf.seFactura)">
                                </div>                              
                                <ng-select [disabled]="!lf.seFactura || lf.yaFacturado" id="{{'unidad'+ i}}" style="width: 100%;" [multiple]="true" appendTo="#modal-factura" [searchable]="true"
                                    [(ngModel)]="lf.cveUnidad" [clearable]="true"
                                    placeholder=""
                                    [items]="lf.dataUnidadMedida" bindLabel="nombre" bindValue="idUnidadMedida">
                                </ng-select>
                                <ng-select [disabled]="!lf.seFactura || lf.yaFacturado" id="{{'cveProdServ'+i}}" style="width: 100%;" [multiple]="true" appendTo="#modal-factura" [searchable]="true"
                                    [(ngModel)]="lf.cveProdServ" [clearable]="true"
                                    placeholder=""
                                    [items]="lf.dataCveProdServ" bindLabel="descripcion" bindValue="idClaveProdServ">
                                </ng-select>
                                <input id="{{'descripcion'+i}}" maxlength="200" placeholder="" [(ngModel)]="lf.descripcion" class="form-control" style="min-width: 85px !important; cursor: default; width: 27%; height: 34px;" disabled />                                   
                                <input id="{{'cantidad'+i}}" class="form-control" style="min-width: 85px !important;text-align: right;width: 3%;" [(ngModel)]="lf.cantidad"  disabled/>
                                <input id="{{'valorUnitario'+i}}" maxlength="100" currency-mask placeholder="" [(ngModel)]="lf.valorU" class="form-control" style="min-width: 85px !important; cursor: auto; width: 3%; height: 34px;" disabled/>                     
                                <input id="{{'importe'+i}}" maxlength="100" currency-mask placeholder="" [(ngModel)]="lf.importeMostrar" class="form-control" style="min-width: 85px !important; cursor: default; width: 3%; height: 34px;" disabled />

                                <div style="width: 7%;max-width: 231px !important;">
                                    <div class="onoffswitch col-md-12">
                                        <mat-slide-toggle id="{{ 'chkAplicaIVA' + i }}" [(ngModel)]="lf.aplicaIVA" 
                                            (change)="moduloFactura.deshabilitarIvaDropDown(i)"
                                            [disabled] = "!lf.seFactura || lf.yaFacturado">
                                        </mat-slide-toggle>
                                        <label class="onoffswitch-label" for=" {{ 'chkAplicaIVA' + i }} ">
                                        <span id="{{ 'SwIVA' + i }}" class="onoffswitch-inner"></span>
                                        <span class="onoffswitch-switch"></span>
                                        </label>
                                    </div>
                                </div>

                                <input id="{{'ivaImporte'+i}}" maxlength="100" currency-mask placeholder="" [(ngModel)]="lf.ivaImporteMostrar" class="form-control" style="min-width: 85px !important; cursor: default; width: 3%; height: 34px;" disabled />
                                <input id="{{'totalImporte'+i}}" maxlength="100" currency-mask placeholder="" [(ngModel)]="lf.totalImporte" class="form-control" style="min-width: 85px !important; cursor: default; width: 3%; height: 34px;" disabled />
                            </div>  
                        </div>
                    </div>                        
                </div>
                <hr style="background-color: gray; height: 1px; margin: 18px 0px 0px 0px;" />
                <div class="row" style="margin: 0px !important;">
                    <h3>Totales e Impuestos</h3>
                </div>
                <div class="row" style="margin-top: -20px;">                        
                    <div class="col-md-12">
                        <div class="col-md-9"></div>
                        <div id="totalImpuestos" class="col-md-3" style="display: inline-block; margin-top: 25px;text-align:right">
                            <div style="width: 33%; display: flex;">
                                <h4 style="padding-left: 30px;">Subtotal</h4>
                                <h4 style="width: 25%;padding-left: 55px;">{{moduloFactura.facturacion.subtotalMostrar}}</h4>
                                
                            </div>  
                            <div style="width: 33%; display: flex;">
                                <h4 style="padding-left: 30px;">Impuestos</h4>
                                <h4 style="width: 25%;padding-left: 37px;">{{moduloFactura.facturacion.impuestoIvaMostrar}}</h4>
                            </div>  
                            <div style="width: 33%; display: flex;">
                                <h4 style="padding-left: 30px;">Total</h4>
                                <h4 style="width: 25%;padding-left: 83px;">{{moduloFactura.facturacion.totalMostrar}}</h4>
                            </div>                                
                        </div>
                    </div>                        
                </div>
                <hr style="background-color: gray; height: 1px; margin: 18px 0px 0px 0px;" />
            </div>   
            </div>
            <hr class="gradBarra"/>
            <div class="modal-footer" style="height: 63px;">
                <div class="col-xs-12" style="margin-bottom:25px;">
                    <div class="text-center">
                        <button id="safeButton" class="buttonEstiloBlanco" type="button" (click)="moduloFactura_validarConceptos(1)" *ngIf="moduloFactura.datosGenerales && !moduloFactura.ocultarGuardar" style="width:83px; height: auto;">
                            {{'informacionFiscalClienteTranslate.guardar' | translate}}
                        </button>
                        <button id="timbrarButton" class="buttonEstiloBlanco" type="button" (click)="moduloFactura_validarConceptos(2)" *ngIf="moduloFactura.datosGenerales && !moduloFactura.ocultarGuardar" style="width:83px; height: auto;">
                            Timbrar
                        </button>
                        <button id="nextButton" class="buttonEstiloBlanco" type="button" (click)="moduloFactura_validarCamposGenerales()" *ngIf="!moduloFactura.datosGenerales" style="width:83px; height: auto;">
                            {{'tourTranslate.siguiente' | translate}}
                        </button>
                        <button id="backButton" class="buttonEstiloBlanco" type="button" (click)="moduloFactura_regresarDatosGenerales()" *ngIf="moduloFactura.datosGenerales" style="width:83px; height: auto;">
                            {{ 'producto.regresar' | translate }}
                        </button>
                    </div>
                </div>
            </div>
        </div>    
    </div>
</div>

<!-- MODAL PARA AGREGAR SERIES -->
<div id="modalSerie" tabindex="-1" role="dialog" aria-hidden="true" class="modal fade modalSerie">
    <div class="modal-dialog modalesSizeLg" style="font-weight: 400; min-width: 100px;width: 651px;height: 485px">
        <div class="modal-content" style="margin: 0 auto; font-weight: 400; margin-top: -1px;">
            <div class="modal-header">
                <span>Agregar Serie</span>
                <mat-icon class="iconosBookipp" svgIcon="iconCruzCirculo"  data-bs-dismiss="modal" style="cursor: pointer; float: right; margin-top: 5px;"></mat-icon>
            </div>
            <div class="modal-body" style="width: 650px;padding-top: 0px !important;">
                <div style="padding-left:10px;">
                    <div class="row">
                        <div class="col-md-6" style="margin-top: 20px; ">
                            <div class="col-md-3" >
                                <label style="margin-top: 10px;">{{'consultaFacturaSerieTranslate.nombre' | translate}}</label>
                            </div>
                            <div class="col-md-9" >
                                <div class="col-md-12" >
                                    <input id="nombre" class="form-control ng-pristine ng-valid" type="text" maxlength="5" [(ngModel)]="facturaSeries.nombre"
                                        (focus)="onFocusTxt('nombre')" (blur)="onBlurTxt('nombre')">
                                </div>
                                <div style="color: red;" class="col-md-offset-1">
                                    <label class="control-label" style="margin-top: 3%;">
                                        {{msgErrorNombre}}
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6" style="margin-top: 20px; ">
                            <div class="col-md-3" >
                                <label style="margin-top: 10px;">{{'consultaFacturaSerieTranslate.contador' | translate}}</label>
                            </div>
                            <div class="col-md-9" >
                                <div class="col-md-12" >
                                    <input id="contador" class="form-control ng-pristine ng-valid" type="text" maxlength="6" [(ngModel)]="facturaSeries.contador"
                                        (focus)="onFocusTxt('contador')" (blur)="onBlurTxt('contador')">
                                </div>
                                <div style="color: red;" class="col-md-offset-1">
                                    <label class="control-label" style="margin-top: 3%;">
                                        {{msgErrorContador}}
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>                                        
                    <div class="row">
                        <div class="col-md-6" style="margin-top: 20px; ">
                            <div class="col-md-3" >
                                <label style="margin-top: 10px;">{{'consultaFacturaSerieTranslate.minimo' | translate}}</label>
                            </div>
                            <div class="col-md-9" >
                                <div class="col-md-12" >
                                    <input id="minimo" class="form-control ng-pristine ng-valid" type="text" maxlength="6" [(ngModel)]="facturaSeries.minimo"
                                        (focus)="onFocusTxt('minimo')" (blur)="onBlurTxt('minimo')">
                                </div>
                                <div style="color: red;" class="col-md-offset-1">
                                    <label class="control-label" style="margin-top: 3%;">
                                        {{msgErrorMinimo}}
                                    </label>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-6" style="margin-top: 20px; ">
                            <div class="col-md-3" >
                                <label style="margin-top: 10px;">{{'consultaFacturaSerieTranslate.maximo' | translate}}</label>
                            </div>
                            <div class="col-md-9" >
                                <div class="col-md-12" >
                                    <input id="maximo" class="form-control ng-pristine ng-valid" type="text" maxlength="6" [(ngModel)]="facturaSeries.maximo"
                                        (focus)="onFocusTxt('maximo')" (blur)="onBlurTxt('maximo')">
                                </div>
                                <div style="color: red;" class="col-md-offset-1">
                                    <label class="control-label" style="margin-top: 3%;">
                                        {{msgErrorMaximo}}
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                    <div class="col-md-12" style="margin-top: 20px; ">
                        <div class="col-md-2">
                            <label style="margin-top: 10px;">{{'consultaFacturaSerieTranslate.descripcion' | translate}}</label>
                        </div>
                        <div class="col-md-10" >
                            <div class="col-md-12" >
                                <textarea id="descripcion" rows="5" class="form-control ng-pristine ng-valid"
                                    style="width: 100%; resize: none; overflow: hidden !important;"
                                    [(ngModel)]="facturaSeries.descripcion" maxlength="50">
                                </textarea>
                            </div>
                        </div>
                    </div>
                </div>                                        
                </div>
            </div>
            
            <div class="modal-footer" style="height: 63px;">
                <div class="col-xs-12" style="margin-bottom:25px;">
                    <div class="text-center">
                        <button id="btnGuardar" class="buttonEstiloBlanco" type="button" style="width: auto; height: auto; pointer-events: visible; position: relative !important; display: inline-block;"
                            (click)="guardar()" [disabled]="checked">{{'consultaFacturaSerieTranslate.guardar' | translate}}
                            <i id="btn"></i>
                        </button>
                        <a id="btnRegresar" class="buttonEstiloBlanco" type="button" style="width: auto; height: auto; border:0px!important;  pointer-events: visible;position: relative !important; display: inline-block;"
                            (click)="cancelarPantalla()">{{'consultaFacturaSerieTranslate.cancelar' | translate}}
                            <i id="btn2"></i>
                        </a>               
                    </div>
                </div>
            </div>
        </div>    
    </div>
</div>

<!-- MODAL CONFIRM -->
<div id="modal-confirm" tabindex="-1" role="dialog" aria-hidden="true" class="modal fade modal-confirm">
    <div class="modal-dialog modalesSizeLg">
        <div class="modal-content" style="margin: 0 auto; font-weight: 400; max-width: 800px; min-height: 115px;">
            <div class="modal-body">
            </div>
            
            <div class="modal-footer">
                <div class="col-lg-3">
                    <button type="button" data-bs-dismiss="modal" class="buttonEstiloBlanco" style="height: auto;">
                        {{'consultaFacturaSerieTranslate.cancelar' | translate}}
                    </button>
                </div>
                <div class="col-lg-3">
                    <button type="button" data-bs-dismiss="modal" class="buttonEstiloBlanco" (click)="regresarConsulta()" style="height: auto;">
                       {{'consultaFacturaSerieTranslate.si' | translate}}
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- MODAL MÉTODO DE PAGO -->
<div id="modalMetodoPago" tabindex="-1" role="dialog" aria-hidden="true" class="modal fade modalMetodoPago">
    <div class="modal-dialog modalesSizeLg" style="font-weight: 400; min-width: 100px;">
        <div class="modal-content" style="margin: 0 auto; font-weight: 400; margin-top: -1px;">
            <div class="modal-header">
                <div class="col-lg-12" style="width: 98%;">
                    <span style="display: flex; justify-content: center;">Métodos de Pagos</span>
                    <span style="display: flex; justify-content: center;">{{fechaCompleta}}</span>
                    <mat-icon class="iconosBookipp" svgIcon="iconCruzCirculo" (click)="ventaProducto_cerrarModalMetodoPago()" style="cursor: pointer; float: right; margin-top: -30px;"></mat-icon>
                </div>
            </div>
            <div class="modal-body" [hidden]="dataMetodoPago.length == 0" >
                <div class="row">
                    <div class="col-xs-2" style="float: right; cursor: pointer; height: 50px;" >
                        <span (click)="exportToCSV(9)" style="color: #337dc0; float: right;">
                            <mat-icon class="iconosBookipp" svgIcon="iconCsv" style="cursor: pointer; font-size: 30px !important; z-index: 1042; height: 50px;padding-top: 4px;"></mat-icon>
                        </span>
                        <span (click)="exportToExcel(9)" style="color: #337dc0; float: right;">
                            <mat-icon class="iconosBookipp" svgIcon="iconExcel" style="cursor: pointer; font-size: 30px !important; z-index: 1042; height: 50px;padding-top: 4px;"></mat-icon>
                        </span>
                    </div>
                </div>
                <div class="row" style="width: auto; position: relative; padding-top: 5px; justify-content: center;">
                    <div class="col-md-12 divContainerTableSizeLg" id="Div13">
                        <table mat-table id="modalTabla08" matSort #matSort10="matSort" [dataSource]="dataSourceMetodoPago" class="" style="width: calc(100% - 15px);">
                            <ng-container matColumnDef="descripcion">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                    Método de Pago
                                </th>
                                <td mat-cell *matCellDef="let element" style="text-align: center;">
                                    <label> {{element.descripcion}} </label>
                                </td>
                            </ng-container>
                        
                            <ng-container matColumnDef="folio">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                    {{'reporteVentaProductoTranslate.folio'| translate}}
                                </th>
                                <td mat-cell *matCellDef="let element" style="text-align: center;">
                                    <label class="labelLink" (click)="_ticketService.caja_movimientos_mostrarTicketFolioPago(element.folio_nuevo)"> {{element.folio}} </label>
                                </td>
                            </ng-container>
                        
                            <ng-container matColumnDef="fechaPago">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                    Fecha Pago
                                </th>
                                <td mat-cell *matCellDef="let element" style="text-align: center;">
                                    <label> {{element.fechaPago | date:'dd/MM/yyyy'}} </label>
                                </td>
                            </ng-container>
                        
                            <ng-container matColumnDef="Cliente">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                    Cliente
                                </th>
                                <td mat-cell *matCellDef="let element" style="text-align: center;">
                                    <label> {{element.Cliente}} </label>
                                </td>
                            </ng-container>
                        
                            <ng-container matColumnDef="Pago">
                                <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                    Pago
                                </th>
                                <td mat-cell *matCellDef="let element" style="text-align: center;">
                                    <label> {{element.Pago | currency}} </label>
                                </td>
                            </ng-container>
                        
                            <tr mat-header-row *matHeaderRowDef="displayedColumns_ModalTabla08" ></tr>
                            <tr mat-row *matRowDef="let row; columns: displayedColumns_ModalTabla08"></tr>                    
                        </table>
                        <!-- <div style="text-align: center;border: solid 1px black; width: 100%; height: 270px;" ui-grid="ventaProducto.gridMetodoPago" class="grid" ui-grid-auto-resize >
                        </div> -->
                    </div>
                </div>
            </div>
            <div class="modal-body" *ngIf="dataMetodoPago.length == 0" style="text-align: center;">
                <span style="font-style: italic; font-size: large; margin-top: 30px; text-align: center;">{{'reporteVentaProductoTranslate.noReg' | translate}}</span>
            </div>
        </div>
    </div>
</div>

<!-- MODAL PROPINAS POR PERSONAL -->
<div id="modalPropinasPorPersonal" tabindex="-1" role="dialog" aria-hidden="true" class="modal fade modalPropinasPorPersonal" >
    <div class="modal-dialog modalesSizeSml">
        <div class="modal-content" style="margin: 0 auto; font-weight: 400;  min-width: 360px;  border: 0;">
            <div class="modal-header" style="border-bottom:none;">
                <span> Propinas por Personal </span>
                <mat-icon class="iconosBookipp" svgIcon="iconCruzCirculo" data-bs-dismiss="modal" style="cursor: pointer;float: right; margin-top: 4px; font-size: 16px;"></mat-icon>
            </div>
            <div class="modal-body" style="height: 500px;">
                <div class="col-md-12 divContainerTableSizeLg" style="padding-bottom: 15px;">
                    <table mat-table id="modalTabla09" matSort #matSort11="matSort" [dataSource]="dataSourcePropinasPorPersonal" class="" style="width: calc(100% - 15px);">
                        <ng-container matColumnDef="nombre">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                Personal
                            </th>
                            <td mat-cell *matCellDef="let element" style="text-align: center;">
                                <label> {{element.nombre}} </label>
                            </td>
                        </ng-container>
                    
                        <ng-container matColumnDef="propina">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                Propina
                            </th>
                            <td mat-cell *matCellDef="let element" style="text-align: center;">
                                <label> {{element.propina | currency}} </label>
                            </td>
                        </ng-container>
                    
                        <tr mat-header-row *matHeaderRowDef="displayedColumns_ModalTabla09"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns_ModalTabla09"></tr>                    
                    </table>
                    <!-- <div style="background-color:white; border:solid 1px black; height: 385px;" ui-grid="ventaProducto.gridPropinasPorPersonal" class="grid" ui-grid-auto-resize ui-grid-pagination>
                    </div> -->
                </div>
            </div>
        </div>
    </div>
</div>

<!-- MODAL CANCELACIONES -->
<div id="modalCancelaciones" tabindex="-1" role="dialog" aria-hidden="true" class="modal fade modalCancelaciones">
    <div class="modal-dialog modalesSizeLg">
        <div class="modal-content" style="margin: 0 auto; font-weight: 400;  min-width: 360px;  border: 0;">
            <div class="modal-header" style="border-bottom:none;">
                <span> Cancelaciones </span>
                <mat-icon class="iconosBookipp" svgIcon="iconCruzCirculo" data-bs-dismiss="modal" style="cursor: pointer;float: right; margin-top: 4px; font-size: 16px;"></mat-icon>
            </div>
            <div class="modal-body" style="height: 500px;">
                <div class="col-md-12 divContainerTableSizeLg" style="overflow: auto; max-height: 400px;">
                    <table mat-table id="modalTabla10" matSort #matSort12="matSort" [dataSource]="dataSourceCancelaciones" class="" style="width: calc(100% - 15px);">
                        <ng-container matColumnDef="tipo">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                {{'reporteVentaProductoTranslate.tipo'| translate}}
                            </th>
                            <td mat-cell *matCellDef="let element" style="text-align: center;">
                                <label> {{element.tipo}} </label>
                            </td>
                        </ng-container>
    
                        <ng-container matColumnDef="folio">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                {{'reporteVentaProductoTranslate.folio'| translate}}
                            </th>
                            <td mat-cell *matCellDef="let element" style="text-align: center;">
                                <label> {{element.folio}} </label>
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="fecha">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                {{'reporteVentaProductoTranslate.fecha'| translate}}
                            </th>
                            <td mat-cell *matCellDef="let element" style="text-align: center;">
                                <label> {{element.fecha | date:'dd/MM/yyyy'}} </label>
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="personal">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                {{'reporteVentaProductoTranslate.personal'| translate}}
                            </th>
                            <td mat-cell *matCellDef="let element" style="text-align: center;">
                                <label> {{element.personal}} </label>
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="cliente">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                {{'reporteVentaProductoTranslate.cliente'| translate}}
                            </th>
                            <td mat-cell *matCellDef="let element" style="text-align: center;">
                                <label> {{element.cliente}} </label>
                            </td>
                        </ng-container>
    
                        <ng-container matColumnDef="producto">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                {{'reporteVentaProductoTranslate.producto'| translate}}
                            </th>
                            <td mat-cell *matCellDef="let element" style="text-align: center;">
                                <label> {{element.producto}} </label>
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="presentacion">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                {{'reporteVentaProductoTranslate.presentacion'| translate}}
                            </th>
                            <td mat-cell *matCellDef="let element" style="text-align: center;">
                                <label> {{element.presentacion}} </label>
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="servicio">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                {{'reporteVentaProductoTranslate.servicio'| translate}}
                            </th>
                            <td mat-cell *matCellDef="let element" style="text-align: center;">
                                <label> {{element.servicio}} </label>
                            </td>
                        </ng-container>
    
                        <ng-container matColumnDef="numPaquete">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                Sesión
                            </th>
                            <td mat-cell *matCellDef="let element" style="text-align: center;">
                                <label> {{element.numPaquete}} </label>
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="cantidad">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                {{'reporteVentaProductoTranslate.cantidad'| translate}}
                            </th>
                            <td mat-cell *matCellDef="let element" style="text-align: center;">
                                <label> {{element.cantidad}} </label>
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="ventaTotal">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                {{'reporteVentaProductoTranslate.total'| translate}}
                            </th>
                            <td mat-cell *matCellDef="let element" style="text-align: center;">
                                <label> {{element.ventaTotal| currency}} </label>
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="totalAbono">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                Total Abono
                            </th>
                            <td mat-cell *matCellDef="let element" style="text-align: center;">
                                <label> {{element.totalAbono | currency}} </label>
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="comision">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                {{'reporteVentaProductoTranslate.comision'| translate}}
                            </th>
                            <td mat-cell *matCellDef="let element" style="text-align: center;">
                                <label> {{element.comision| currency}} </label>
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="costo">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                {{'producto.costo' | translate}}
                            </th>
                            <td mat-cell *matCellDef="let element" style="text-align: center;">
                                <label> {{element.costo == '-'? '-' : element.costo | currency}} </label>
                            </td>
                        </ng-container>
                        
                        <ng-container matColumnDef="utilidad">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                {{'reporteVentaProductoTranslate.utilidad'| translate}}
                            </th>
                            <td mat-cell *matCellDef="let element" style="text-align: center;">
                                <label> {{element.utilidad | currency}} </label>
                            </td>
                        </ng-container>

                        <tr mat-header-row *matHeaderRowDef="displayedColumns_ModalTabla10"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns_ModalTabla10"></tr>                    
                    </table>
                    <!-- <div style="background-color:white; border:solid 1px black; height: 385px;" ui-grid="ventaProducto.gridCancelaciones" class="grid" ui-grid-auto-resize ui-grid-pagination>
                    </div> -->
                </div>
            </div>
        </div>
    </div>
</div>

<!-- MODAL VENTAS ELIMINADAS -->
<div id="modalVentasEliminadas" tabindex="-1" role="dialog" aria-hidden="true" class="modal fade modalVentasEliminadas" >
    <div class="modal-dialog modalesSizeLg">
        <div class="modal-content" style="margin: 0 auto; font-weight: 400;  min-width: 360px;  border: 0;">
            <div class="modal-header" style="border-bottom:none;">
                <span> Ventas Eliminadas </span>
                <mat-icon class="iconosBookipp" svgIcon="iconCruzCirculo" data-bs-dismiss="modal" style="cursor: pointer;float: right; margin-top: 4px; font-size: 16px;"></mat-icon>
            </div>
            <div class="modal-body" style="height: 500px;">
                <div class="col-md-12 divContainerTableSizeLg" style="padding-bottom: 15px;">
                    <table mat-table id="modalTabla11" matSort #matSort13="matSort" [dataSource]="dataSourceVentasEliminadas" class="" style="width: calc(100% - 15px);">
                        <ng-container matColumnDef="folio_caja">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                Folio de Venta
                            </th>
                            <td mat-cell *matCellDef="let element" style="text-align: center;">
                                <label class="labelLink" (click)="_ticketService.caja_movimientos_mostrarTicketFolioVenta(element.folio_caja_original)"> {{element.folio_caja}} </label>
                            </td>
                        </ng-container>
    
                        <ng-container matColumnDef="fechaPago">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                Fecha Venta
                            </th>
                            <td mat-cell *matCellDef="let element" style="text-align: center;">
                                <label> {{element.fechaPago | date:'dd/MM/yyyy'}} </label>
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="nombreCliente">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                Cliente
                            </th>
                            <td mat-cell *matCellDef="let element" style="text-align: center;">
                                <label> {{element.nombreCliente}} </label>
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="montoTotal">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                Monto
                            </th>
                            <td mat-cell *matCellDef="let element" style="text-align: center;">
                                <label> {{element.montoTotal | currency}} </label>
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="realizoBaja">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                Realizó Baja
                            </th>
                            <td mat-cell *matCellDef="let element" style="text-align: center;">
                                <label> {{element.realizoBaja}} </label>
                            </td>
                        </ng-container>
    
                        <ng-container matColumnDef="motivoBaja">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                Motivo Baja
                            </th>
                            <td mat-cell *matCellDef="let element" style="text-align: center;">
                                <label> {{element.motivoBaja}} </label>
                            </td>
                        </ng-container>

                        <tr mat-header-row *matHeaderRowDef="displayedColumns_ModalTabla11"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns_ModalTabla11"></tr>                    
                    </table>
                    <!-- <div style="background-color:white; border:solid 1px black; height: 385px;" ui-grid="ventaProducto.gridVentasEliminadas" class="grid" ui-grid-auto-resize ui-grid-pagination>
                    </div> -->
                </div>
            </div>
        </div>
    </div>
</div> 

<!-- MODAL RETIRO EFECTIVO -->
<div id="ModalRetiroEfectivo" tabindex="-1" role="dialog" aria-hidden="true" class="modal fade ModalRetiroEfectivo" >
    <div class="modal-dialog modalesSizeSml" >
        <div class="modal-content" style="margin: 0 auto; font-weight: 400;  min-width: 360px;  border: 0;">
            <div class="modal-header" style="border-bottom:none;">
                <span> Retiro Efectivo </span>
                <mat-icon class="iconosBookipp" svgIcon="iconCruzCirculo" data-bs-dismiss="modal" style="cursor: pointer;float: right; margin-top: 4px; font-size: 16px;"></mat-icon>
            </div>
            <div class="modal-body" style="height: 500px;">
                <div class="col-md-12 divContainerTableSizeLg" style="padding-bottom: 15px;">
                    <table mat-table id="modalTabla12" matSort #matSort14="matSort" [dataSource]="dataSourceRetiroEfectivo" class="" style="width: calc(100% - 15px);">
                        <ng-container matColumnDef="Fecha">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                Fecha Retiro
                            </th>
                            <td mat-cell *matCellDef="let element" style="text-align: center;">
                                <label> {{element.Fecha | date:'dd/MM/yyyy'}} </label>
                            </td>
                        </ng-container>
    
                        <ng-container matColumnDef="Folio">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                Folio
                            </th>
                            <td mat-cell *matCellDef="let element" style="text-align: center;">
                                <label class="labelLink" (click)="_ticketService.caja_movimientos_mostrarTicketFolioRetiroEfectivo(element.Folio)"> {{element.Folio}} </label>
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="Monto">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                Monto
                            </th>
                            <td mat-cell *matCellDef="let element" style="text-align: center;">
                                <label> {{element.Monto | currency}} </label>
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="Motivo">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                Motivo Retiro
                            </th>
                            <td mat-cell *matCellDef="let element" style="text-align: center;">
                                <label> {{element.Motivo}} </label>
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="NombreGerente">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                Usuario
                            </th>
                            <td mat-cell *matCellDef="let element" style="text-align: center;">
                                <label> {{element.NombreGerente}} </label>
                            </td>
                        </ng-container>

                        <tr mat-header-row *matHeaderRowDef="displayedColumns_ModalTabla12"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns_ModalTabla12"></tr>                    
                    </table>
                    <!-- <div style="background-color:white; border:solid 1px black; height: 385px;" ui-grid="ventaProducto.gridRetiroEfectivo" class="grid" ui-grid-auto-resize ui-grid-pagination>
                    </div> -->
                </div>
            </div>
        </div>
    </div>
</div> 

<!-- MODAL VENTAS DEVOLUCIONES -->
<div id="modalVentasDevoluciones" tabindex="-1" role="dialog" aria-hidden="true" class="modal fade modalVentasDevoluciones" >
    <div class="modal-dialog modalesSizeLg">
        <div class="modal-content" style="margin: 0 auto; font-weight: 400;  min-width: 360px;  border: 0;">
            <div class="modal-header" style="border-bottom:none;">
                <span> Devoluciones </span>
                <mat-icon class="iconosBookipp" svgIcon="iconCruzCirculo" data-bs-dismiss="modal" style="cursor: pointer;float: right; margin-top: 4px; font-size: 16px;"></mat-icon>
            </div>
            <div class="modal-body" style="height: 500px;">
                <div class="col-md-12 divContainerTableSizeLg" style="padding-bottom: 15px; max-height: 400px;">
                    <table mat-table id="modalTabla13" matSort #matSort10="matSort" [dataSource]="dataSourceDevolucionesDetalle" class="" style="width: calc(100% - 15px);">
                        <ng-container matColumnDef="folio_caja">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                Folio de Venta
                            </th>
                            <td mat-cell *matCellDef="let element" style="text-align: center;">
                                <label class="labelLink" (click)="_ticketService.caja_movimientos_mostrarTicketFolioVenta(element.folio_caja_original)"> {{element.folio_caja}} </label>
                            </td>
                        </ng-container>
    
                        <ng-container matColumnDef="fechaDevolucion">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                Fecha
                            </th>
                            <td mat-cell *matCellDef="let element" style="text-align: center;">
                                <label> {{element.fechaDevolucion | date:'dd/MM/yyyy'}} </label>
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="descripcion">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                Descripción
                            </th>
                            <td mat-cell *matCellDef="let element" style="text-align: center;">
                                <label> {{element.descripcion}} </label>
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="montoDevolucion">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                Monto
                            </th>
                            <td mat-cell *matCellDef="let element" style="text-align: center;">
                                <label> {{element.montoDevolucion | currency }} </label>
                            </td>
                        </ng-container>

                        <ng-container matColumnDef="cantidad">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header style="text-align: center; min-width: 115px;" class="tablesRowsSize">
                                Cantidad
                            </th>
                            <td mat-cell *matCellDef="let element" style="text-align: center;">
                                <label> {{element.cantidad}} </label>
                            </td>
                        </ng-container>

                        <tr mat-header-row *matHeaderRowDef="displayedColumns_ModalTabla13"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns_ModalTabla13"></tr>                    
                    </table>
                    <!-- <div style="background-color:white; border:solid 1px black; height: 385px;" ui-grid="ventaProducto.gridVentasDevoluciones" class="grid" ui-grid-auto-resize ui-grid-pagination>
                    </div> -->
                </div>
            </div>
        </div>
    </div>
</div>    

<!-- ¿MODAL DE AGENDA? -->
<div id="Agenda" aria-hidden="true" class="modal fade Agenda" role="dialog">
    <!-- <div ng-controller="ctrlAgenda"></div> -->
</div>

<!--// -------------------------------------------------- MODALES GLOBALES ---------------------------------------------------------- //-->


<!-- <div id="modalTicketPago" aria-hidden="true" class="modal fade" role="dialog">
    <div class="modal-dialog"  style="min-width: 800px !important;">
        <div class="modal-content md-modal" style="margin: 0 auto; font-weight: 400; min-height: 200px; background-color: #dce6ea; border: 0;">
            <div class="modal-header">
                <span>{{'agendaTranslate.reciboCitaMayus'| translate}}</span>
                <i class="icon-cerrar" data-dismiss="modal" style="cursor: pointer; float: right; margin-top: 4px; font-size: 16px;"></i>
            </div>
            <div class="modal-body" style="display: grid;">

                <div id="cajaTipoCorte" class="col-md-6" style="min-height: 40px;">
                    <div class="col-md-4" style="margin-top: 6px; font-size: 15px; display: flex;">
                        <label> Folio Pago </label>
                    </div>

                    <div class="col-md-8" style="padding: 0;" >
                        <ui-select id="ddlTicketPagoCita" style="width: 95%;" search-enabled="true" append-to-body="navegador.movil" chuy-select theme="select2"  
                            ng-model="ticketPago.ticketSelecionado" 
                            ng-change="ticketPago.consultarInfoTicketPago()">
                            <ui-select-match placeholder="Ticket">
                                {{$select.selected.folioMostrar}}
                            </ui-select-match>
                            <ui-select-choices id="uiSelectFoliosPagoCita" repeat="value.folio as value in ticketPago.dataTickets"> 
                                <span ng-bind-html="value.folioMostrar"></span>
                            </ui-select-choices>
                        </ui-select>
                    </div>
                </div>

                <div class="recibo-pago" style="border: 1px solid #bcbcbc; margin: 10px 20px 20px 20px; padding: 15px 20px 20px 20px;" *ngIf="ticketPago.ticketSelecionado">
                    <p style="font-size: 16px; font-weight: 500; border-bottom: 1px dashed #bcbcbc; padding-bottom: 10px;">{{'agendaTranslate.reciboPago'| translate}}</p>

                    <div style="display: inline-block; width: 100%; border-bottom: 1px dashed #bcbcbc; padding-bottom: 10px;">
                        <div style="float: left; width: 100%">
                            <label style="width: 25%;">{{'agendaTranslate.cliente'| translate}}</label>
                            <span style="width: 75%">{{caja.venta.ticket.cliente}}</span>
                        </div>
                        <div style="float: left; width: 100%">
                            <label style="width: 25%;"> Folio Pago </label>
                            <span style="width: 75%">{{caja.venta.ticket.folio}}</span>
                        </div>
                        <div style="float: left; width: 100%">
                            <label style="width: 25%;">{{'agendaTranslate.fecha'| translate}}</label>
                            <span style="width: 75%">{{caja.venta.ticket.fecha}}</span>
                        </div>
                        <div style="float: left; width: 100%"  [hidden]="caja.venta.ticket.paquetes.length > 0">
                            <label style="width: 26%;">Paquete</label>
                            <span *ngFor="c in caja.venta.ticket.paquetes" style="overflow: hidden; word-break: keep-all; text-overflow: ellipsis; width: 74%; float: right; margin-bottom: 5px">{{c.pago | currency}} - {{c.descripcion}}</span>
                        </div>
                        <div style="float: left; width: 100%"  [hidden]="caja.venta.ticket.cargos.length > 0">
                            <label style="width: 26%;">{{'agendaTranslate.cargos'| translate}}</label>
                            <span *ngFor="c in caja.venta.ticket.cargos" style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis; width: 74%; float: right; margin-bottom: 5px">{{c.pago | currency}} - {{c.descripcion}}</span>
                        </div>
                        <div style="float: left; width: 100%"  [hidden]="caja.venta.ticket.productos.length > 0">
                            <label style="width: 26%;">{{'producto.productos'| translate}}</label>
                            <span *ngFor="p in caja.venta.ticket.productos" style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis; width: 74%; float: right; margin-bottom: 5px">{{p.pago | currency}} - {{p.descripcion}}</span>
                        </div>
                        <div style="float: left; width: 100%"  [hidden]="caja.venta.ticket.descuento.pago">
                            <label style="width: 26%;">{{'agendaTranslate.descuento'| translate}}</label>
                            <span style="width: 74%; float: right; margin-bottom: 5px">-{{caja.venta.ticket.descuento.pago * -1 | currency}}</span>
                        </div>
                        <div style="float: left; width: 100%"  [hidden]="caja.venta.ticket.promocion.length > 0">
                            <label style="width: 26%;">{{'agendaTranslate.promocion'| translate}}</label>
                            <span *ngFor="p in caja.venta.ticket.promocion" style="overflow: hidden; white-space: nowrap; text-overflow: ellipsis; width: 74%; float: right; margin-bottom: 5px">-{{p.pago | currency}} - {{p.descripcion}}</span>
                        </div>
                        <div style="float: left; width: 100%"  [hidden]="caja.venta.ticket.propina.pago">
                            <label style="width: 26%;">Propina</label>
                            <span style="width: 74%; float: right; margin-bottom: 5px">{{caja.venta.ticket.propina.pago | currency}}</span>
                        </div>
                        <div style="float: left; width: 100%"  [hidden]="caja.venta.ticket.totalDescuento != 0">
                            <label style="width: 26%;"> Descuento </label>
                            <span style="width: 74%; float: right; margin-bottom: 5px">{{caja.venta.ticket.totalDescuento | currency}}</span>
                        </div>
                    </div>

                    <div style="margin-top: 10px; border-bottom: 1px dashed #bcbcbc;height: 27px;">
                        <label style="width: 15%; float: left; text-align: right">{{'agendaTranslate.totalMay'| translate}} </label>
                        <span style="margin-left: 30px">{{caja.venta.ticket.total | currency}}</span>
                    </div>

                    <div style="margin-top: 10px">
                        <label style="width: 50%";>{{'pagoTranslate.metodoPago'| translate}}</label>
                    </div>

                    <div *ngFor="mp in caja.venta.ticket.metodoPago" style="display: inline-block; width: 100%; border-bottom: 1px dashed #bcbcbc; padding-bottom: 10px;">
                        <label style="width:70%;" *ngIf="mp.digitos">{{ mp.descripcion }} ( {{ mp.digitos }} )</label>
                        <label style="width:70%;" *ngIf="!mp.digitos">{{ mp.descripcion }} </label>
                        <span style="width:25%;margin-bottom: 5px">{{ mp.pago | currency }}</span>
                    </div>

                    <div style="margin-top: 10px;">
                        <label style="width: 15%; float: left; text-align: right"> TOTAL PAGADO </label>
                        <span style="margin-left: 30px">{{caja.venta.ticket.totalPagado | currency}}</span>
                    </div>

                </div>
                
                <div class="recibo-print" *ngIf="ticketPago.ticketSelecionado">

                    <a style="float: left; cursor: pointer; line-height: 2.5;" (click)="moduloFactura.factura()" [disabled]="!esPremium" ng-class="{disabled: !esPremium}">{{'agendaTranslate.factura'| translate}}</a>
                    <div style="float: left" class="premium_feature" [hidden]="esPremium">
                        {{'agendaTranslate.premium'| translate}}
                        <div style="background-color: #092a38; border-radius: 61px; width: 16px; height: 16px; margin-top: 4px; margin-left: 3px;">
                            <i class="glyphicon glyphicon-lock" style="font-size: 8px; margin-top: 3px;"></i>
                        </div>
                    </div>

                    <a id="A1" style="float: right; cursor: pointer; line-height: 2.5;" (click)="imprimir.control.imprimirTicket()">
                        <i class="fa fa-print"></i>
                        {{'agendaTranslate.imprimir'| translate}}
                    </a>

                    <a style="float: right; cursor: pointer; line-height: 2.5; margin-right: 10px;" (click)="imprimir.control.mandarCorreoTicket()">
                        <i class="fa fa-envelope-o" aria-hidden="true"></i>
                        {{'agendaTranslate.reciboEnviarCorreo'| translate}}
                    </a>
                    
                </div>

            </div>
        </div>
    </div>
</div> -->